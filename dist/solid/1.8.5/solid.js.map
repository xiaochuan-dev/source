{"version":3,"file":"solid.js","sources":["../src/reactive/scheduler.ts","../src/render/hydration.ts","../src/reactive/signal.ts","../src/reactive/observable.ts","../src/reactive/array.ts","../src/render/component.ts","../src/render/flow.ts","../src/render/Suspense.ts","../src/index.ts"],"sourcesContent":["// Basic port modification of Reacts Scheduler: https://github.com/facebook/react/tree/master/packages/scheduler\nexport interface Task {\n  id: number;\n  fn: ((didTimeout: boolean) => void) | null;\n  startTime: number;\n  expirationTime: number;\n}\n\n// experimental new feature proposal stuff\ntype NavigatorScheduling = Navigator & {\n  scheduling: { isInputPending?: () => boolean };\n};\n\nlet taskIdCounter = 1,\n  isCallbackScheduled = false,\n  isPerformingWork = false,\n  taskQueue: Task[] = [],\n  currentTask: Task | null = null,\n  shouldYieldToHost: (() => boolean) | null = null,\n  yieldInterval = 5,\n  deadline = 0,\n  maxYieldInterval = 300,\n  scheduleCallback: (() => void) | null = null,\n  scheduledCallback: ((hasTimeRemaining: boolean, initialTime: number) => boolean) | null = null;\n\nconst maxSigned31BitInt = 1073741823;\n/* istanbul ignore next */\nfunction setupScheduler() {\n  const channel = new MessageChannel(),\n    port = channel.port2;\n  scheduleCallback = () => port.postMessage(null);\n  channel.port1.onmessage = () => {\n    if (scheduledCallback !== null) {\n      const currentTime = performance.now();\n      deadline = currentTime + yieldInterval;\n      const hasTimeRemaining = true;\n      try {\n        const hasMoreWork = scheduledCallback(hasTimeRemaining, currentTime);\n        if (!hasMoreWork) {\n          scheduledCallback = null;\n        } else port.postMessage(null);\n      } catch (error) {\n        // If a scheduler task throws, exit the current browser task so the\n        // error can be observed.\n        port.postMessage(null);\n        throw error;\n      }\n    }\n  };\n\n  if (\n    navigator &&\n    (navigator as NavigatorScheduling).scheduling &&\n    (navigator as NavigatorScheduling).scheduling.isInputPending\n  ) {\n    const scheduling = (navigator as NavigatorScheduling).scheduling;\n    shouldYieldToHost = () => {\n      const currentTime = performance.now();\n      if (currentTime >= deadline) {\n        // There's no time left. We may want to yield control of the main\n        // thread, so the browser can perform high priority tasks. The main ones\n        // are painting and user input. If there's a pending paint or a pending\n        // input, then we should yield. But if there's neither, then we can\n        // yield less often while remaining responsive. We'll eventually yield\n        // regardless, since there could be a pending paint that wasn't\n        // accompanied by a call to `requestPaint`, or other main thread tasks\n        // like network events.\n        if (scheduling.isInputPending!()) {\n          return true;\n        }\n        // There's no pending input. Only yield if we've reached the max\n        // yield interval.\n        return currentTime >= maxYieldInterval;\n      } else {\n        // There's still time left in the frame.\n        return false;\n      }\n    };\n  } else {\n    // `isInputPending` is not available. Since we have no way of knowing if\n    // there's pending input, always yield at the end of the frame.\n    shouldYieldToHost = () => performance.now() >= deadline;\n  }\n}\n\nfunction enqueue(taskQueue: Task[], task: Task) {\n  function findIndex() {\n    let m = 0;\n    let n = taskQueue.length - 1;\n\n    while (m <= n) {\n      const k = (n + m) >> 1;\n      const cmp = task.expirationTime - taskQueue[k].expirationTime;\n      if (cmp > 0) m = k + 1;\n      else if (cmp < 0) n = k - 1;\n      else return k;\n    }\n    return m;\n  }\n  taskQueue.splice(findIndex(), 0, task);\n}\n\nexport function requestCallback(fn: () => void, options?: { timeout: number }): Task {\n  if (!scheduleCallback) setupScheduler();\n  let startTime = performance.now(),\n    timeout = maxSigned31BitInt;\n\n  if (options && options.timeout) timeout = options.timeout;\n\n  const newTask: Task = {\n    id: taskIdCounter++,\n    fn,\n    startTime,\n    expirationTime: startTime + timeout\n  };\n\n  enqueue(taskQueue, newTask);\n  if (!isCallbackScheduled && !isPerformingWork) {\n    isCallbackScheduled = true;\n    scheduledCallback = flushWork;\n    scheduleCallback!();\n  }\n\n  return newTask;\n}\n\nexport function cancelCallback(task: Task) {\n  task.fn = null;\n}\n\nfunction flushWork(hasTimeRemaining: boolean, initialTime: number) {\n  // We'll need a host callback the next time work is scheduled.\n  isCallbackScheduled = false;\n  isPerformingWork = true;\n  try {\n    return workLoop(hasTimeRemaining, initialTime);\n  } finally {\n    currentTask = null;\n    isPerformingWork = false;\n  }\n}\n\nfunction workLoop(hasTimeRemaining: boolean, initialTime: number) {\n  let currentTime = initialTime;\n  currentTask = taskQueue[0] || null;\n  while (currentTask !== null) {\n    if (currentTask.expirationTime > currentTime && (!hasTimeRemaining || shouldYieldToHost!())) {\n      // This currentTask hasn't expired, and we've reached the deadline.\n      break;\n    }\n    const callback = currentTask.fn;\n    if (callback !== null) {\n      currentTask.fn = null;\n      const didUserCallbackTimeout = currentTask.expirationTime <= currentTime;\n      callback(didUserCallbackTimeout);\n      currentTime = performance.now();\n      if (currentTask === taskQueue[0]) {\n        taskQueue.shift();\n      }\n    } else taskQueue.shift();\n    currentTask = taskQueue[0] || null;\n  }\n  // Return whether there's additional work\n  return currentTask !== null;\n}\n","import { Computation } from \"../reactive/signal.js\";\n\nexport type HydrationContext = { id: string; count: number };\n\ntype SharedConfig = {\n  context?: HydrationContext;\n  resources?: { [key: string]: any };\n  load?: (id: string) => Promise<any> | any;\n  has?: (id: string) => boolean;\n  gather?: (key: string) => void;\n  registry?: Map<string, Element>;\n  done?: boolean;\n  count?: number;\n  effects?: Computation<any, any>[];\n};\n\nexport const sharedConfig: SharedConfig = { context: undefined, registry: undefined };\n\nexport function setHydrateContext(context?: HydrationContext): void {\n  sharedConfig.context = context;\n}\n\nexport function nextHydrateContext(): HydrationContext | undefined {\n  return {\n    ...sharedConfig.context,\n    id: `${sharedConfig.context!.id}${sharedConfig.context!.count++}-`,\n    count: 0\n  };\n}\n","// Inspired by S.js by Adam Haile, https://github.com/adamhaile/S\n/**\nThe MIT License (MIT)\n\nCopyright (c) 2017 Adam Haile\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\nimport { requestCallback, Task } from \"./scheduler.js\";\nimport { setHydrateContext, sharedConfig } from \"../render/hydration.js\";\nimport type { JSX } from \"../jsx.js\";\nimport type { FlowComponent, FlowProps } from \"../render/index.js\";\n\nexport const equalFn = <T>(a: T, b: T) => a === b;\nexport const $PROXY = Symbol(\"solid-proxy\");\nexport const $TRACK = Symbol(\"solid-track\");\nexport const $DEVCOMP = Symbol(\"solid-dev-component\");\nconst signalOptions = { equals: equalFn };\nlet ERROR: symbol | null = null;\nlet runEffects = runQueue;\nconst STALE = 1;\nconst PENDING = 2;\nconst UNOWNED: Owner = {\n  owned: null,\n  cleanups: null,\n  context: null,\n  owner: null\n};\nconst NO_INIT = {};\nexport var Owner: Owner | null = null;\nexport let Transition: TransitionState | null = null;\nlet Scheduler: ((fn: () => void) => any) | null = null;\nlet ExternalSourceFactory: ExternalSourceFactory | null = null;\nlet Listener: Computation<any> | null = null;\nlet Updates: Computation<any>[] | null = null;\nlet Effects: Computation<any>[] | null = null;\nlet ExecCount = 0;\n\n/** Object storing callbacks for debugging during development */\nexport const DevHooks: {\n  afterUpdate: (() => void) | null;\n  afterCreateOwner: ((owner: Owner) => void) | null;\n} = {\n  afterUpdate: null,\n  afterCreateOwner: null\n};\n\n// keep immediately evaluated module code, below its indirect declared let dependencies like Listener\nconst [transPending, setTransPending] = /*@__PURE__*/ createSignal(false);\n\nexport type ComputationState = 0 | 1 | 2;\n\nexport interface SourceMapValue {\n  value: unknown;\n  name?: string;\n  graph?: Owner;\n}\n\nexport interface SignalState<T> extends SourceMapValue {\n  value: T;\n  observers: Computation<any>[] | null;\n  observerSlots: number[] | null;\n  tValue?: T;\n  comparator?: (prev: T, next: T) => boolean;\n}\n\nexport interface Owner {\n  owned: Computation<any>[] | null;\n  cleanups: (() => void)[] | null;\n  owner: Owner | null;\n  context: any | null;\n  sourceMap?: SourceMapValue[];\n  name?: string;\n}\n\nexport interface Computation<Init, Next extends Init = Init> extends Owner {\n  fn: EffectFunction<Init, Next>;\n  state: ComputationState;\n  tState?: ComputationState;\n  sources: SignalState<Next>[] | null;\n  sourceSlots: number[] | null;\n  value?: Init;\n  updatedAt: number | null;\n  pure: boolean;\n  user?: boolean;\n  suspense?: SuspenseContextType;\n}\n\nexport interface TransitionState {\n  sources: Set<SignalState<any>>;\n  effects: Computation<any>[];\n  promises: Set<Promise<any>>;\n  disposed: Set<Computation<any>>;\n  queue: Set<Computation<any>>;\n  scheduler?: (fn: () => void) => unknown;\n  running: boolean;\n  done?: Promise<void>;\n  resolve?: () => void;\n}\n\ntype ExternalSourceFactory = <Prev, Next extends Prev = Prev>(\n  fn: EffectFunction<Prev, Next>,\n  trigger: () => void\n) => ExternalSource;\n\nexport interface ExternalSource {\n  track: EffectFunction<any, any>;\n  dispose: () => void;\n}\n\nexport type RootFunction<T> = (dispose: () => void) => T;\n\n/**\n * Creates a new non-tracked reactive context that doesn't auto-dispose\n *\n * @param fn a function in which the reactive state is scoped\n * @param detachedOwner optional reactive context to bind the root to\n * @returns the output of `fn`.\n *\n * @description https://www.solidjs.com/docs/latest/api#createroot\n */\nexport function createRoot<T>(fn: RootFunction<T>, detachedOwner?: typeof Owner): T {\n  const listener = Listener,\n    owner = Owner,\n    unowned = fn.length === 0,\n    current = detachedOwner === undefined ? owner : detachedOwner,\n    root: Owner = unowned\n      ? \"_SOLID_DEV_\"\n        ? { owned: null, cleanups: null, context: null, owner: null }\n        : UNOWNED\n      : {\n          owned: null,\n          cleanups: null,\n          context: current ? current.context : null,\n          owner: current\n        },\n    updateFn = unowned\n      ? \"_SOLID_DEV_\"\n        ? () =>\n            fn(() => {\n              throw new Error(\"Dispose method must be an explicit argument to createRoot function\");\n            })\n        : fn\n      : () => fn(() => untrack(() => cleanNode(root)));\n\n  if (\"_SOLID_DEV_\") DevHooks.afterCreateOwner && DevHooks.afterCreateOwner(root);\n\n  Owner = root;\n  Listener = null;\n\n  try {\n    return runUpdates(updateFn as () => T, true)!;\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n}\n\nexport type Accessor<T> = () => T;\n\nexport type Setter<in out T> = {\n  <U extends T>(...args: undefined extends T ? [] : [value: (prev: T) => U]): undefined extends T\n    ? undefined\n    : U;\n  <U extends T>(value: (prev: T) => U): U;\n  <U extends T>(value: Exclude<U, Function>): U;\n  <U extends T>(value: Exclude<U, Function> | ((prev: T) => U)): U;\n};\n\nexport type Signal<T> = [get: Accessor<T>, set: Setter<T>];\n\nexport interface SignalOptions<T> extends MemoOptions<T> {\n  internal?: boolean;\n}\n\n/**\n * Creates a simple reactive state with a getter and setter\n * ```typescript\n * const [state: Accessor<T>, setState: Setter<T>] = createSignal<T>(\n *  value: T,\n *  options?: { name?: string, equals?: false | ((prev: T, next: T) => boolean) }\n * )\n * ```\n * @param value initial value of the state; if empty, the state's type will automatically extended with undefined; otherwise you need to extend the type manually if you want setting to undefined not be an error\n * @param options optional object with a name for debugging purposes and equals, a comparator function for the previous and next value to allow fine-grained control over the reactivity\n *\n * @returns ```typescript\n * [state: Accessor<T>, setState: Setter<T>]\n * ```\n * * the Accessor is merely a function that returns the current value and registers each call to the reactive root\n * * the Setter is a function that allows directly setting or mutating the value:\n * ```typescript\n * const [count, setCount] = createSignal(0);\n * setCount(count => count + 1);\n * ```\n *\n * @description https://www.solidjs.com/docs/latest/api#createsignal\n */\nexport function createSignal<T>(): Signal<T | undefined>;\nexport function createSignal<T>(value: T, options?: SignalOptions<T>): Signal<T>;\nexport function createSignal<T>(\n  value?: T,\n  options?: SignalOptions<T | undefined>\n): Signal<T | undefined> {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n\n  const s: SignalState<T | undefined> = {\n    value,\n    observers: null,\n    observerSlots: null,\n    comparator: options.equals || undefined\n  };\n\n  if (\"_SOLID_DEV_\" && !options.internal) {\n    if (options.name) s.name = options.name;\n    registerGraph(s);\n  }\n\n  const setter: Setter<T | undefined> = (value?: unknown) => {\n    if (typeof value === \"function\") {\n      if (Transition && Transition.running && Transition.sources.has(s)) value = value(s.tValue);\n      else value = value(s.value);\n    }\n    return writeSignal(s, value);\n  };\n\n  return [readSignal.bind(s), setter];\n}\n\nexport interface BaseOptions {\n  name?: string;\n}\n\n// Magic type that when used at sites where generic types are inferred from, will prevent those sites from being involved in the inference.\n// https://github.com/microsoft/TypeScript/issues/14829\n// TypeScript Discord conversation: https://discord.com/channels/508357248330760243/508357248330760249/911266491024949328\nexport type NoInfer<T extends any> = [T][T extends any ? 0 : never];\n\nexport interface EffectOptions extends BaseOptions {}\n\n// Also similar to OnEffectFunction\nexport type EffectFunction<Prev, Next extends Prev = Prev> = (v: Prev) => Next;\n\n/**\n * Creates a reactive computation that runs immediately before render, mainly used to write to other reactive primitives\n * ```typescript\n * export function createComputed<Next, Init = Next>(\n *   fn: (v: Init | Next) => Next,\n *   value?: Init,\n *   options?: { name?: string }\n * ): void;\n * ```\n * @param fn a function that receives its previous or the initial value, if set, and returns a new value used to react on a computation\n * @param value an optional initial value for the computation; if set, fn will never receive undefined as first argument\n * @param options allows to set a name in dev mode for debugging purposes\n *\n * @description https://www.solidjs.com/docs/latest/api#createcomputed\n */\nexport function createComputed<Next>(fn: EffectFunction<undefined | NoInfer<Next>, Next>): void;\nexport function createComputed<Next, Init = Next>(\n  fn: EffectFunction<Init | Next, Next>,\n  value: Init,\n  options?: EffectOptions\n): void;\nexport function createComputed<Next, Init>(\n  fn: EffectFunction<Init | Next, Next>,\n  value?: Init,\n  options?: EffectOptions\n): void {\n  const c = createComputation(fn, value!, true, STALE, \"_SOLID_DEV_\" ? options : undefined);\n  if (Scheduler && Transition && Transition.running) Updates!.push(c);\n  else updateComputation(c);\n}\n\n/**\n * Creates a reactive computation that runs during the render phase as DOM elements are created and updated but not necessarily connected\n * ```typescript\n * export function createRenderEffect<T>(\n *   fn: (v: T) => T,\n *   value?: T,\n *   options?: { name?: string }\n * ): void;\n * ```\n * @param fn a function that receives its previous or the initial value, if set, and returns a new value used to react on a computation\n * @param value an optional initial value for the computation; if set, fn will never receive undefined as first argument\n * @param options allows to set a name in dev mode for debugging purposes\n *\n * @description https://www.solidjs.com/docs/latest/api#createrendereffect\n */\nexport function createRenderEffect<Next>(fn: EffectFunction<undefined | NoInfer<Next>, Next>): void;\nexport function createRenderEffect<Next, Init = Next>(\n  fn: EffectFunction<Init | Next, Next>,\n  value: Init,\n  options?: EffectOptions\n): void;\nexport function createRenderEffect<Next, Init>(\n  fn: EffectFunction<Init | Next, Next>,\n  value?: Init,\n  options?: EffectOptions\n): void {\n  const c = createComputation(fn, value!, false, STALE, \"_SOLID_DEV_\" ? options : undefined);\n  if (Scheduler && Transition && Transition.running) Updates!.push(c);\n  else updateComputation(c);\n}\n\n/**\n * Creates a reactive computation that runs after the render phase\n * ```typescript\n * export function createEffect<T>(\n *   fn: (v: T) => T,\n *   value?: T,\n *   options?: { name?: string }\n * ): void;\n * ```\n * @param fn a function that receives its previous or the initial value, if set, and returns a new value used to react on a computation\n * @param value an optional initial value for the computation; if set, fn will never receive undefined as first argument\n * @param options allows to set a name in dev mode for debugging purposes\n *\n * @description https://www.solidjs.com/docs/latest/api#createeffect\n */\nexport function createEffect<Next>(fn: EffectFunction<undefined | NoInfer<Next>, Next>): void;\nexport function createEffect<Next, Init = Next>(\n  fn: EffectFunction<Init | Next, Next>,\n  value: Init,\n  options?: EffectOptions & { render?: boolean }\n): void;\nexport function createEffect<Next, Init>(\n  fn: EffectFunction<Init | Next, Next>,\n  value?: Init,\n  options?: EffectOptions & { render?: boolean }\n): void {\n  runEffects = runUserEffects;\n  const c = createComputation(fn, value!, false, STALE, \"_SOLID_DEV_\" ? options : undefined),\n    s = SuspenseContext && useContext(SuspenseContext);\n  if (s) c.suspense = s;\n  if (!options || !options.render) c.user = true;\n  Effects ? Effects.push(c) : updateComputation(c);\n}\n\n/**\n * Creates a reactive computation that runs after the render phase with flexible tracking\n * ```typescript\n * export function createReaction(\n *   onInvalidate: () => void,\n *   options?: { name?: string }\n * ): (fn: () => void) => void;\n * ```\n * @param invalidated a function that is called when tracked function is invalidated.\n * @param options allows to set a name in dev mode for debugging purposes\n *\n * @description https://www.solidjs.com/docs/latest/api#createreaction\n */\nexport function createReaction(onInvalidate: () => void, options?: EffectOptions) {\n  let fn: (() => void) | undefined;\n  const c = createComputation(\n      () => {\n        fn ? fn() : untrack(onInvalidate);\n        fn = undefined;\n      },\n      undefined,\n      false,\n      0,\n      \"_SOLID_DEV_\" ? options : undefined\n    ),\n    s = SuspenseContext && useContext(SuspenseContext);\n  if (s) c.suspense = s;\n  c.user = true;\n  return (tracking: () => void) => {\n    fn = tracking;\n    updateComputation(c);\n  };\n}\n\nexport interface Memo<Prev, Next = Prev> extends SignalState<Next>, Computation<Next> {\n  value: Next;\n  tOwned?: Computation<Prev | Next, Next>[];\n}\n\nexport interface MemoOptions<T> extends EffectOptions {\n  equals?: false | ((prev: T, next: T) => boolean);\n}\n\n/**\n * Creates a readonly derived reactive memoized signal\n * ```typescript\n * export function createMemo<T>(\n *   fn: (v: T) => T,\n *   value?: T,\n *   options?: { name?: string, equals?: false | ((prev: T, next: T) => boolean) }\n * ): () => T;\n * ```\n * @param fn a function that receives its previous or the initial value, if set, and returns a new value used to react on a computation\n * @param value an optional initial value for the computation; if set, fn will never receive undefined as first argument\n * @param options allows to set a name in dev mode for debugging purposes and use a custom comparison function in equals\n *\n * @description https://www.solidjs.com/docs/latest/api#creatememo\n */\n// The extra Prev generic parameter separates inference of the effect input\n// parameter type from inference of the effect return type, so that the effect\n// return type is always used as the memo Accessor's return type.\nexport function createMemo<Next extends Prev, Prev = Next>(\n  fn: EffectFunction<undefined | NoInfer<Prev>, Next>\n): Accessor<Next>;\nexport function createMemo<Next extends Prev, Init = Next, Prev = Next>(\n  fn: EffectFunction<Init | Prev, Next>,\n  value: Init,\n  options?: MemoOptions<Next>\n): Accessor<Next>;\nexport function createMemo<Next extends Prev, Init, Prev>(\n  fn: EffectFunction<Init | Prev, Next>,\n  value?: Init,\n  options?: MemoOptions<Next>\n): Accessor<Next> {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n\n  const c: Partial<Memo<Init, Next>> = createComputation(\n    fn,\n    value!,\n    true,\n    0,\n    \"_SOLID_DEV_\" ? options : undefined\n  ) as Partial<Memo<Init, Next>>;\n\n  c.observers = null;\n  c.observerSlots = null;\n  c.comparator = options.equals || undefined;\n  if (Scheduler && Transition && Transition.running) {\n    c.tState = STALE;\n    Updates!.push(c as Memo<Init, Next>);\n  } else updateComputation(c as Memo<Init, Next>);\n  return readSignal.bind(c as Memo<Init, Next>);\n}\n\ninterface Unresolved {\n  state: \"unresolved\";\n  loading: false;\n  error: undefined;\n  latest: undefined;\n  (): undefined;\n}\n\ninterface Pending {\n  state: \"pending\";\n  loading: true;\n  error: undefined;\n  latest: undefined;\n  (): undefined;\n}\n\ninterface Ready<T> {\n  state: \"ready\";\n  loading: false;\n  error: undefined;\n  latest: T;\n  (): T;\n}\n\ninterface Refreshing<T> {\n  state: \"refreshing\";\n  loading: true;\n  error: undefined;\n  latest: T;\n  (): T;\n}\n\ninterface Errored {\n  state: \"errored\";\n  loading: false;\n  error: any;\n  latest: never;\n  (): never;\n}\n\nexport type Resource<T> = Unresolved | Pending | Ready<T> | Refreshing<T> | Errored;\n\nexport type InitializedResource<T> = Ready<T> | Refreshing<T> | Errored;\n\nexport type ResourceActions<T, R = unknown> = {\n  mutate: Setter<T>;\n  refetch: (info?: R) => T | Promise<T> | undefined | null;\n};\n\nexport type ResourceSource<S> = S | false | null | undefined | (() => S | false | null | undefined);\n\nexport type ResourceFetcher<S, T, R = unknown> = (\n  k: S,\n  info: ResourceFetcherInfo<T, R>\n) => T | Promise<T>;\n\nexport type ResourceFetcherInfo<T, R = unknown> = {\n  value: T | undefined;\n  refetching: R | boolean;\n};\n\nexport type ResourceOptions<T, S = unknown> = {\n  initialValue?: T;\n  name?: string;\n  deferStream?: boolean;\n  ssrLoadFrom?: \"initial\" | \"server\";\n  storage?: (init: T | undefined) => [Accessor<T | undefined>, Setter<T | undefined>];\n  onHydrated?: (k: S | undefined, info: { value: T | undefined }) => void;\n};\n\nexport type InitializedResourceOptions<T, S = unknown> = ResourceOptions<T, S> & {\n  initialValue: T;\n};\n\nexport type ResourceReturn<T, R = unknown> = [Resource<T>, ResourceActions<T | undefined, R>];\n\nexport type InitializedResourceReturn<T, R = unknown> = [\n  InitializedResource<T>,\n  ResourceActions<T, R>\n];\n\nfunction isPromise(v: any): v is Promise<any> {\n  return v && typeof v === \"object\" && \"then\" in v;\n}\n\n/**\n * Creates a resource that wraps a repeated promise in a reactive pattern:\n * ```typescript\n * // Without source\n * const [resource, { mutate, refetch }] = createResource(fetcher, options);\n * // With source\n * const [resource, { mutate, refetch }] = createResource(source, fetcher, options);\n * ```\n * @param source - reactive data function which has its non-nullish and non-false values passed to the fetcher, optional\n * @param fetcher - function that receives the source (true if source not provided), the last or initial value, and whether the resource is being refetched, and returns a value or a Promise:\n * ```typescript\n * const fetcher: ResourceFetcher<S, T, R> = (\n *   sourceOutput: S,\n *   info: { value: T | undefined, refetching: R | boolean }\n * ) => T | Promise<T>;\n * ```\n * @param options - an optional object with the initialValue and the name (for debugging purposes); see {@link ResourceOptions}\n *\n * @returns ```typescript\n * [Resource<T>, { mutate: Setter<T>, refetch: () => void }]\n * ```\n *\n * * Setting an `initialValue` in the options will mean that both the prev() accessor and the resource should never return undefined (if that is wanted, you need to extend the type with undefined)\n * * `mutate` allows to manually overwrite the resource without calling the fetcher\n * * `refetch` will re-run the fetcher without changing the source, and if called with a value, that value will be passed to the fetcher via the `refetching` property on the fetcher's second parameter\n *\n * @description https://www.solidjs.com/docs/latest/api#createresource\n */\nexport function createResource<T, R = unknown>(\n  fetcher: ResourceFetcher<true, T, R>,\n  options: InitializedResourceOptions<NoInfer<T>, true>\n): InitializedResourceReturn<T, R>;\nexport function createResource<T, R = unknown>(\n  fetcher: ResourceFetcher<true, T, R>,\n  options?: ResourceOptions<NoInfer<T>, true>\n): ResourceReturn<T, R>;\nexport function createResource<T, S, R = unknown>(\n  source: ResourceSource<S>,\n  fetcher: ResourceFetcher<S, T, R>,\n  options: InitializedResourceOptions<NoInfer<T>, S>\n): InitializedResourceReturn<T, R>;\nexport function createResource<T, S, R = unknown>(\n  source: ResourceSource<S>,\n  fetcher: ResourceFetcher<S, T, R>,\n  options?: ResourceOptions<NoInfer<T>, S>\n): ResourceReturn<T, R>;\nexport function createResource<T, S, R>(\n  pSource: ResourceSource<S> | ResourceFetcher<S, T, R>,\n  pFetcher?: ResourceFetcher<S, T, R> | ResourceOptions<T, S>,\n  pOptions?: ResourceOptions<T, S> | undefined\n): ResourceReturn<T, R> {\n  let source: ResourceSource<S>;\n  let fetcher: ResourceFetcher<S, T, R>;\n  let options: ResourceOptions<T, S>;\n  if ((arguments.length === 2 && typeof pFetcher === \"object\") || arguments.length === 1) {\n    source = true as ResourceSource<S>;\n    fetcher = pSource as ResourceFetcher<S, T, R>;\n    options = (pFetcher || {}) as ResourceOptions<T, S>;\n  } else {\n    source = pSource as ResourceSource<S>;\n    fetcher = pFetcher as ResourceFetcher<S, T, R>;\n    options = pOptions || ({} as ResourceOptions<T, S>);\n  }\n\n  let pr: Promise<T> | null = null,\n    initP: Promise<T> | T | typeof NO_INIT = NO_INIT,\n    id: string | null = null,\n    loadedUnderTransition: boolean | null = false,\n    scheduled = false,\n    resolved = \"initialValue\" in options,\n    dynamic =\n      typeof source === \"function\" && createMemo(source as () => S | false | null | undefined);\n\n  const contexts = new Set<SuspenseContextType>(),\n    [value, setValue] = (options.storage || createSignal)(options.initialValue) as Signal<\n      T | undefined\n    >,\n    [error, setError] = createSignal<unknown>(undefined),\n    [track, trigger] = createSignal(undefined, { equals: false }),\n    [state, setState] = createSignal<\"unresolved\" | \"pending\" | \"ready\" | \"refreshing\" | \"errored\">(\n      resolved ? \"ready\" : \"unresolved\"\n    );\n\n  if (sharedConfig.context) {\n    id = `${sharedConfig.context.id}${sharedConfig.context.count++}`;\n    let v;\n    if (options.ssrLoadFrom === \"initial\") initP = options.initialValue as T;\n    else if (sharedConfig.load && (v = sharedConfig.load(id))) initP = v;\n  }\n  function loadEnd(p: Promise<T> | null, v: T | undefined, error?: any, key?: S) {\n    if (pr === p) {\n      pr = null;\n      key !== undefined && (resolved = true);\n      if ((p === initP || v === initP) && options.onHydrated)\n        queueMicrotask(() => options.onHydrated!(key, { value: v }));\n      initP = NO_INIT;\n      if (Transition && p && loadedUnderTransition) {\n        Transition.promises.delete(p);\n        loadedUnderTransition = false;\n        runUpdates(() => {\n          Transition!.running = true;\n          completeLoad(v, error);\n        }, false);\n      } else completeLoad(v, error);\n    }\n    return v;\n  }\n  function completeLoad(v: T | undefined, err: any) {\n    runUpdates(() => {\n      if (err === undefined) setValue(() => v);\n      setState(err !== undefined ? \"errored\" : resolved ? \"ready\" : \"unresolved\");\n      setError(err);\n      for (const c of contexts.keys()) c.decrement!();\n      contexts.clear();\n    }, false);\n  }\n\n  function read() {\n    const c = SuspenseContext && useContext(SuspenseContext),\n      v = value(),\n      err = error();\n    if (err !== undefined && !pr) throw err;\n    if (Listener && !Listener.user && c) {\n      createComputed(() => {\n        track();\n        if (pr) {\n          if (c.resolved && Transition && loadedUnderTransition) Transition.promises.add(pr);\n          else if (!contexts.has(c)) {\n            c.increment!();\n            contexts.add(c);\n          }\n        }\n      });\n    }\n    return v;\n  }\n  function load(refetching: R | boolean = true) {\n    if (refetching !== false && scheduled) return;\n    scheduled = false;\n    const lookup = dynamic ? dynamic() : (source as S);\n    loadedUnderTransition = Transition && Transition.running;\n    if (lookup == null || lookup === false) {\n      loadEnd(pr, untrack(value));\n      return;\n    }\n    if (Transition && pr) Transition.promises.delete(pr);\n    const p =\n      initP !== NO_INIT\n        ? (initP as T | Promise<T>)\n        : untrack(() =>\n            fetcher(lookup, {\n              value: value(),\n              refetching\n            })\n          );\n    if (!isPromise(p)) {\n      loadEnd(pr, p, undefined, lookup);\n      return p;\n    }\n    pr = p;\n    if (\"value\" in p) {\n      if ((p as any).status === \"success\") loadEnd(pr, p.value as T, undefined, lookup);\n      else loadEnd(pr, undefined, undefined, lookup);\n      return p;\n    }\n    scheduled = true;\n    queueMicrotask(() => (scheduled = false));\n    runUpdates(() => {\n      setState(resolved ? \"refreshing\" : \"pending\");\n      trigger();\n    }, false);\n    return p.then(\n      v => loadEnd(p, v, undefined, lookup),\n      e => loadEnd(p, undefined, castError(e), lookup)\n    ) as Promise<T>;\n  }\n  Object.defineProperties(read, {\n    state: { get: () => state() },\n    error: { get: () => error() },\n    loading: {\n      get() {\n        const s = state();\n        return s === \"pending\" || s === \"refreshing\";\n      }\n    },\n    latest: {\n      get() {\n        if (!resolved) return read();\n        const err = error();\n        if (err && !pr) throw err;\n        return value();\n      }\n    }\n  });\n  if (dynamic) createComputed(() => load(false));\n  else load(false);\n  return [read as Resource<T>, { refetch: load, mutate: setValue }];\n}\n\nexport interface DeferredOptions<T> {\n  equals?: false | ((prev: T, next: T) => boolean);\n  name?: string;\n  timeoutMs?: number;\n}\n\n/**\n * Creates a reactive computation that only runs and notifies the reactive context when the browser is idle\n * ```typescript\n * export function createDeferred<T>(\n *   fn: (v: T) => T,\n *   options?: { timeoutMs?: number, name?: string, equals?: false | ((prev: T, next: T) => boolean) }\n * ): () => T);\n * ```\n * @param fn a function that receives its previous or the initial value, if set, and returns a new value used to react on a computation\n * @param options allows to set the timeout in milliseconds, use a custom comparison function and set a name in dev mode for debugging purposes\n *\n * @description https://www.solidjs.com/docs/latest/api#createdeferred\n */\nexport function createDeferred<T>(source: Accessor<T>, options?: DeferredOptions<T>) {\n  let t: Task,\n    timeout = options ? options.timeoutMs : undefined;\n  const node = createComputation(\n    () => {\n      if (!t || !t.fn)\n        t = requestCallback(\n          () => setDeferred(() => node.value as T),\n          timeout !== undefined ? { timeout } : undefined\n        );\n      return source();\n    },\n    undefined,\n    true\n  ) as Memo<any>;\n  const [deferred, setDeferred] = createSignal(\n    Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value,\n    options\n  );\n  updateComputation(node);\n  setDeferred(() =>\n    Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value\n  );\n  return deferred;\n}\n\nexport type EqualityCheckerFunction<T, U> = (a: U, b: T) => boolean;\n\n/**\n * Creates a conditional signal that only notifies subscribers when entering or exiting their key matching the value\n * ```typescript\n * export function createSelector<T, U>(\n *   source: () => T\n *   fn: (a: U, b: T) => boolean,\n *   options?: { name?: string }\n * ): (k: U) => boolean;\n * ```\n * @param source\n * @param fn a function that receives its previous or the initial value, if set, and returns a new value used to react on a computation\n * @param options allows to set a name in dev mode for debugging purposes, optional\n *\n * ```typescript\n * const isSelected = createSelector(selectedId);\n * <For each={list()}>\n *   {(item) => <li classList={{ active: isSelected(item.id) }}>{item.name}</li>}\n * </For>\n * ```\n *\n * This makes the operation O(2) instead of O(n).\n *\n * @description https://www.solidjs.com/docs/latest/api#createselector\n */\nexport function createSelector<T, U = T>(\n  source: Accessor<T>,\n  fn: EqualityCheckerFunction<T, U> = equalFn as TODO,\n  options?: BaseOptions\n): (key: U) => boolean {\n  const subs = new Map<U, Set<Computation<any>>>();\n  const node = createComputation(\n    (p: T | undefined) => {\n      const v = source();\n      for (const [key, val] of subs.entries())\n        if (fn(key, v) !== fn(key, p!)) {\n          for (const c of val.values()) {\n            c.state = STALE;\n            if (c.pure) Updates!.push(c);\n            else Effects!.push(c);\n          }\n        }\n      return v;\n    },\n    undefined,\n    true,\n    STALE,\n    \"_SOLID_DEV_\" ? options : undefined\n  ) as Memo<any>;\n  updateComputation(node);\n  return (key: U) => {\n    const listener = Listener;\n    if (listener) {\n      let l: Set<Computation<any>> | undefined;\n      if ((l = subs.get(key))) l.add(listener);\n      else subs.set(key, (l = new Set([listener])));\n      onCleanup(() => {\n        l!.delete(listener!);\n        !l!.size && subs.delete(key);\n      });\n    }\n    return fn(\n      key,\n      Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value!\n    );\n  };\n}\n\n/**\n * Holds changes inside the block before the reactive context is updated\n * @param fn wraps the reactive updates that should be batched\n * @returns the return value from `fn`\n *\n * @description https://www.solidjs.com/docs/latest/api#batch\n */\nexport function batch<T>(fn: Accessor<T>): T {\n  return runUpdates(fn, false) as T;\n}\n\n/**\n * Ignores tracking context inside its scope\n * @param fn the scope that is out of the tracking context\n * @returns the return value of `fn`\n *\n * @description https://www.solidjs.com/docs/latest/api#untrack\n */\nexport function untrack<T>(fn: Accessor<T>): T {\n  if (Listener === null) return fn();\n\n  const listener = Listener;\n  Listener = null;\n  try {\n    return fn();\n  } finally {\n    Listener = listener;\n  }\n}\n\n/** @deprecated */\nexport type ReturnTypes<T> = T extends readonly Accessor<unknown>[]\n  ? { [K in keyof T]: T[K] extends Accessor<infer I> ? I : never }\n  : T extends Accessor<infer I>\n  ? I\n  : never;\n\n// transforms a tuple to a tuple of accessors in a way that allows generics to be inferred\nexport type AccessorArray<T> = [...Extract<{ [K in keyof T]: Accessor<T[K]> }, readonly unknown[]>];\n\n// Also similar to EffectFunction\nexport type OnEffectFunction<S, Prev, Next extends Prev = Prev> = (\n  input: S,\n  prevInput: S | undefined,\n  prev: Prev\n) => Next;\n\nexport interface OnOptions {\n  defer?: boolean;\n}\n\n/**\n * on - make dependencies of a computation explicit\n * ```typescript\n * export function on<S, U>(\n *   deps: Accessor<S> | AccessorArray<S>,\n *   fn: (input: S, prevInput: S | undefined, prevValue: U | undefined) => U,\n *   options?: { defer?: boolean } = {}\n * ): (prevValue: U | undefined) => U;\n * ```\n * @param deps list of reactive dependencies or a single reactive dependency\n * @param fn computation on input; the current previous content(s) of input and the previous value are given as arguments and it returns a new value\n * @param options optional, allows deferred computation until at the end of the next change\n * @returns an effect function that is passed into createEffect. For example:\n *\n * ```typescript\n * createEffect(on(a, (v) => console.log(v, b())));\n *\n * // is equivalent to:\n * createEffect(() => {\n *   const v = a();\n *   untrack(() => console.log(v, b()));\n * });\n * ```\n *\n * @description https://www.solidjs.com/docs/latest/api#on\n */\nexport function on<S, Next extends Prev, Prev = Next>(\n  deps: AccessorArray<S> | Accessor<S>,\n  fn: OnEffectFunction<S, undefined | NoInfer<Prev>, Next>,\n  options?: OnOptions & { defer?: false }\n): EffectFunction<undefined | NoInfer<Next>, NoInfer<Next>>;\nexport function on<S, Next extends Prev, Prev = Next>(\n  deps: AccessorArray<S> | Accessor<S>,\n  fn: OnEffectFunction<S, undefined | NoInfer<Prev>, Next>,\n  options: OnOptions | { defer: true }\n): EffectFunction<undefined | NoInfer<Next>>;\nexport function on<S, Next extends Prev, Prev = Next>(\n  deps: AccessorArray<S> | Accessor<S>,\n  fn: OnEffectFunction<S, undefined | NoInfer<Prev>, Next>,\n  options?: OnOptions\n): EffectFunction<undefined | NoInfer<Next>> {\n  const isArray = Array.isArray(deps);\n  let prevInput: S;\n  let defer = options && options.defer;\n  return prevValue => {\n    let input: S;\n    if (isArray) {\n      input = Array(deps.length) as unknown as S;\n      for (let i = 0; i < deps.length; i++) (input as unknown as TODO[])[i] = deps[i]();\n    } else input = deps();\n    if (defer) {\n      defer = false;\n      return undefined;\n    }\n    const result = untrack(() => fn(input, prevInput, prevValue));\n    prevInput = input;\n    return result;\n  };\n}\n\n/**\n * onMount - run an effect only after initial render on mount\n * @param fn an effect that should run only once on mount\n *\n * @description https://www.solidjs.com/docs/latest/api#onmount\n */\nexport function onMount(fn: () => void) {\n  createEffect(() => untrack(fn));\n}\n\n/**\n * onCleanup - run an effect once before the reactive scope is disposed\n * @param fn an effect that should run only once on cleanup\n *\n * @returns the same {@link fn} function that was passed in\n *\n * @description https://www.solidjs.com/docs/latest/api#oncleanup\n */\nexport function onCleanup<T extends () => any>(fn: T): T {\n  if (Owner === null)\n    \"_SOLID_DEV_\" &&\n      console.warn(\"cleanups created outside a `createRoot` or `render` will never be run\");\n  else if (Owner.cleanups === null) Owner.cleanups = [fn];\n  else Owner.cleanups.push(fn);\n  return fn;\n}\n\n/**\n * catchError - run an effect whenever an error is thrown within the context of the child scopes\n * @param fn boundary for the error\n * @param handler an error handler that receives the error\n *\n * * If the error is thrown again inside the error handler, it will trigger the next available parent handler\n *\n * @description https://www.solidjs.com/docs/latest/api#catcherror\n */\nexport function catchError<T>(fn: () => T, handler: (err: Error) => void) {\n  ERROR || (ERROR = Symbol(\"error\"));\n  Owner = createComputation(undefined!, undefined, true);\n  Owner.context = { ...Owner.context, [ERROR]: [handler] };\n  if (Transition && Transition.running) Transition.sources.add(Owner as Memo<any>);\n  try {\n    return fn();\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = Owner.owner;\n  }\n}\n\nexport function getListener() {\n  return Listener;\n}\n\nexport function getOwner() {\n  return Owner;\n}\n\nexport function runWithOwner<T>(o: typeof Owner, fn: () => T): T | undefined {\n  const prev = Owner;\n  const prevListener = Listener;\n  Owner = o;\n  Listener = null;\n  try {\n    return runUpdates(fn, true)!;\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = prev;\n    Listener = prevListener;\n  }\n}\n\n// Transitions\nexport function enableScheduling(scheduler = requestCallback) {\n  Scheduler = scheduler;\n}\n\n/**\n * ```typescript\n * export function startTransition(fn: () => void) => Promise<void>\n *\n * @description https://www.solidjs.com/docs/latest/api#usetransition\n */\nexport function startTransition(fn: () => unknown): Promise<void> {\n  if (Transition && Transition.running) {\n    fn();\n    return Transition.done!;\n  }\n  const l = Listener;\n  const o = Owner;\n  return Promise.resolve().then(() => {\n    Listener = l;\n    Owner = o;\n    let t: TransitionState | undefined;\n    if (Scheduler || SuspenseContext) {\n      t =\n        Transition ||\n        (Transition = {\n          sources: new Set(),\n          effects: [],\n          promises: new Set(),\n          disposed: new Set(),\n          queue: new Set(),\n          running: true\n        });\n      t.done || (t.done = new Promise(res => (t!.resolve = res)));\n      t.running = true;\n    }\n    runUpdates(fn, false);\n    Listener = Owner = null;\n    return t ? t.done : undefined;\n  });\n}\n\nexport type Transition = [Accessor<boolean>, (fn: () => void) => Promise<void>];\n\n/**\n * ```typescript\n * export function useTransition(): [\n *   () => boolean,\n *   (fn: () => void, cb?: () => void) => void\n * ];\n * @returns a tuple; first value is an accessor if the transition is pending and a callback to start the transition\n *\n * @description https://www.solidjs.com/docs/latest/api#usetransition\n */\nexport function useTransition(): Transition {\n  return [transPending, startTransition];\n}\n\nexport function resumeEffects(e: Computation<any>[]) {\n  Effects!.push.apply(Effects, e);\n  e.length = 0;\n}\n\nexport interface DevComponent<T> extends Memo<unknown> {\n  props: T;\n  name: string;\n  component: (props: T) => unknown;\n}\n\n// Dev\nexport function devComponent<P, V>(Comp: (props: P) => V, props: P): V {\n  const c = createComputation(\n    () =>\n      untrack(() => {\n        Object.assign(Comp, { [$DEVCOMP]: true });\n        return Comp(props);\n      }),\n    undefined,\n    true,\n    0\n  ) as DevComponent<P>;\n  c.props = props;\n  c.observers = null;\n  c.observerSlots = null;\n  c.name = Comp.name;\n  c.component = Comp;\n  updateComputation(c);\n  return (c.tValue !== undefined ? c.tValue : c.value) as V;\n}\n\nexport function registerGraph(value: SourceMapValue): void {\n  if (!Owner) return;\n  if (Owner.sourceMap) Owner.sourceMap.push(value);\n  else Owner.sourceMap = [value];\n  value.graph = Owner;\n}\n\nexport type ContextProviderComponent<T> = FlowComponent<{ value: T }>;\n\n// Context API\nexport interface Context<T> {\n  id: symbol;\n  Provider: ContextProviderComponent<T>;\n  defaultValue: T;\n}\n\n/**\n * Creates a Context to handle a state scoped for the children of a component\n * ```typescript\n * interface Context<T> {\n *   id: symbol;\n *   Provider: FlowComponent<{ value: T }>;\n *   defaultValue: T;\n * }\n * export function createContext<T>(\n *   defaultValue?: T,\n *   options?: { name?: string }\n * ): Context<T | undefined>;\n * ```\n * @param defaultValue optional default to inject into context\n * @param options allows to set a name in dev mode for debugging purposes\n * @returns The context that contains the Provider Component and that can be used with `useContext`\n *\n * @description https://www.solidjs.com/docs/latest/api#createcontext\n */\nexport function createContext<T>(\n  defaultValue?: undefined,\n  options?: EffectOptions\n): Context<T | undefined>;\nexport function createContext<T>(defaultValue: T, options?: EffectOptions): Context<T>;\nexport function createContext<T>(\n  defaultValue?: T,\n  options?: EffectOptions\n): Context<T | undefined> {\n  const id = Symbol(\"context\");\n  return { id, Provider: createProvider(id, options), defaultValue };\n}\n\n/**\n * use a context to receive a scoped state from a parent's Context.Provider\n *\n * @param context Context object made by `createContext`\n * @returns the current or `defaultValue`, if present\n *\n * @description https://www.solidjs.com/docs/latest/api#usecontext\n */\nexport function useContext<T>(context: Context<T>): T {\n  return Owner && Owner.context && Owner.context[context.id] !== undefined\n    ? Owner.context[context.id]\n    : context.defaultValue;\n}\n\nexport type ResolvedJSXElement = Exclude<JSX.Element, JSX.ArrayElement>;\nexport type ResolvedChildren = ResolvedJSXElement | ResolvedJSXElement[];\nexport type ChildrenReturn = Accessor<ResolvedChildren> & { toArray: () => ResolvedJSXElement[] };\n\n/**\n * Resolves child elements to help interact with children\n *\n * @param fn an accessor for the children\n * @returns a accessor of the same children, but resolved\n *\n * @description https://www.solidjs.com/docs/latest/api#children\n */\nexport function children(fn: Accessor<JSX.Element>): ChildrenReturn {\n  const children = createMemo(fn);\n  const memo = \"_SOLID_DEV_\"\n    ? createMemo(() => resolveChildren(children()), undefined, { name: \"children\" })\n    : createMemo(() => resolveChildren(children()));\n  (memo as ChildrenReturn).toArray = () => {\n    const c = memo();\n    return Array.isArray(c) ? c : c != null ? [c] : [];\n  };\n  return memo as ChildrenReturn;\n}\n\n// Resource API\nexport type SuspenseContextType = {\n  increment?: () => void;\n  decrement?: () => void;\n  inFallback?: () => boolean;\n  effects?: Computation<any>[];\n  resolved?: boolean;\n};\n\ntype SuspenseContext = Context<SuspenseContextType | undefined> & {\n  active?(): boolean;\n  increment?(): void;\n  decrement?(): void;\n};\n\nlet SuspenseContext: SuspenseContext;\n\nexport function getSuspenseContext() {\n  return SuspenseContext || (SuspenseContext = createContext<SuspenseContextType | undefined>());\n}\n\n// Interop\nexport function enableExternalSource(factory: ExternalSourceFactory) {\n  if (ExternalSourceFactory) {\n    const oldFactory = ExternalSourceFactory;\n    ExternalSourceFactory = (fn, trigger) => {\n      const oldSource = oldFactory(fn, trigger);\n      const source = factory(x => oldSource.track(x), trigger);\n      return {\n        track: x => source.track(x),\n        dispose() {\n          source.dispose();\n          oldSource.dispose();\n        }\n      };\n    };\n  } else {\n    ExternalSourceFactory = factory;\n  }\n}\n\n// Internal\nexport function readSignal(this: SignalState<any> | Memo<any>) {\n  const runningTransition = Transition && Transition.running;\n  if (\n    (this as Memo<any>).sources &&\n    (runningTransition ? (this as Memo<any>).tState : (this as Memo<any>).state)\n  ) {\n    if ((runningTransition ? (this as Memo<any>).tState : (this as Memo<any>).state) === STALE)\n      updateComputation(this as Memo<any>);\n    else {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(this as Memo<any>), false);\n      Updates = updates;\n    }\n  }\n  if (Listener) {\n    const sSlot = this.observers ? this.observers.length : 0;\n    if (!Listener.sources) {\n      Listener.sources = [this];\n      Listener.sourceSlots = [sSlot];\n    } else {\n      Listener.sources.push(this);\n      Listener.sourceSlots!.push(sSlot);\n    }\n    if (!this.observers) {\n      this.observers = [Listener];\n      this.observerSlots = [Listener.sources.length - 1];\n    } else {\n      this.observers.push(Listener);\n      this.observerSlots!.push(Listener.sources.length - 1);\n    }\n  }\n  if (runningTransition && Transition!.sources.has(this)) return this.tValue;\n  return this.value;\n}\n\nexport function writeSignal(node: SignalState<any> | Memo<any>, value: any, isComp?: boolean) {\n  let current =\n    Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value;\n  if (!node.comparator || !node.comparator(current, value)) {\n    if (Transition) {\n      const TransitionRunning = Transition.running;\n      if (TransitionRunning || (!isComp && Transition.sources.has(node))) {\n        Transition.sources.add(node);\n        node.tValue = value;\n      }\n      if (!TransitionRunning) node.value = value;\n    } else node.value = value;\n    if (node.observers && node.observers.length) {\n      runUpdates(() => {\n        for (let i = 0; i < node.observers!.length; i += 1) {\n          const o = node.observers![i];\n          const TransitionRunning = Transition && Transition.running;\n          if (TransitionRunning && Transition!.disposed.has(o)) continue;\n          if (TransitionRunning ? !o.tState : !o.state) {\n            if (o.pure) Updates!.push(o);\n            else Effects!.push(o);\n            if ((o as Memo<any>).observers) markDownstream(o as Memo<any>);\n          }\n          if (!TransitionRunning) o.state = STALE;\n          else o.tState = STALE;\n        }\n        if (Updates!.length > 10e5) {\n          Updates = [];\n          if (\"_SOLID_DEV_\") throw new Error(\"Potential Infinite Loop Detected.\");\n          throw new Error();\n        }\n      }, false);\n    }\n  }\n  return value;\n}\n\nfunction updateComputation(node: Computation<any>) {\n  if (!node.fn) return;\n  cleanNode(node);\n  const owner = Owner,\n    listener = Listener,\n    time = ExecCount;\n  Listener = Owner = node;\n  runComputation(\n    node,\n    Transition && Transition.running && Transition.sources.has(node as Memo<any>)\n      ? (node as Memo<any>).tValue\n      : node.value,\n    time\n  );\n\n  if (Transition && !Transition.running && Transition.sources.has(node as Memo<any>)) {\n    queueMicrotask(() => {\n      runUpdates(() => {\n        Transition && (Transition.running = true);\n        Listener = Owner = node;\n        runComputation(node, (node as Memo<any>).tValue, time);\n        Listener = Owner = null;\n      }, false);\n    });\n  }\n  Listener = listener;\n  Owner = owner;\n}\n\nfunction runComputation(node: Computation<any>, value: any, time: number) {\n  let nextValue;\n  try {\n    nextValue = node.fn(value);\n  } catch (err) {\n    if (node.pure) {\n      if (Transition && Transition.running) {\n        node.tState = STALE;\n        (node as Memo<any>).tOwned && (node as Memo<any>).tOwned!.forEach(cleanNode);\n        (node as Memo<any>).tOwned = undefined;\n      } else {\n        node.state = STALE;\n        node.owned && node.owned.forEach(cleanNode);\n        node.owned = null;\n      }\n    }\n    // won't be picked up until next update\n    node.updatedAt = time + 1;\n    return handleError(err);\n  }\n  if (!node.updatedAt || node.updatedAt <= time) {\n    if (node.updatedAt != null && \"observers\" in node) {\n      writeSignal(node as Memo<any>, nextValue, true);\n    } else if (Transition && Transition.running && node.pure) {\n      Transition.sources.add(node as Memo<any>);\n      (node as Memo<any>).tValue = nextValue;\n    } else node.value = nextValue;\n    node.updatedAt = time;\n  }\n}\n\nfunction createComputation<Next, Init = unknown>(\n  fn: EffectFunction<Init | Next, Next>,\n  init: Init,\n  pure: boolean,\n  state: ComputationState = STALE,\n  options?: EffectOptions\n): Computation<Init | Next, Next> {\n  const c: Computation<Init | Next, Next> = {\n    fn,\n    state: state,\n    updatedAt: null,\n    owned: null,\n    sources: null,\n    sourceSlots: null,\n    cleanups: null,\n    value: init,\n    owner: Owner,\n    context: Owner ? Owner.context : null,\n    pure\n  };\n\n  if (Transition && Transition.running) {\n    c.state = 0;\n    c.tState = state;\n  }\n\n  if (Owner === null)\n    \"_SOLID_DEV_\" &&\n      console.warn(\n        \"computations created outside a `createRoot` or `render` will never be disposed\"\n      );\n  else if (Owner !== UNOWNED) {\n    if (Transition && Transition.running && (Owner as Memo<Init, Next>).pure) {\n      if (!(Owner as Memo<Init, Next>).tOwned) (Owner as Memo<Init, Next>).tOwned = [c];\n      else (Owner as Memo<Init, Next>).tOwned!.push(c);\n    } else {\n      if (!Owner.owned) Owner.owned = [c];\n      else Owner.owned.push(c);\n    }\n  }\n\n  if (\"_SOLID_DEV_\" && options && options.name) c.name = options.name;\n\n  if (ExternalSourceFactory) {\n    const [track, trigger] = createSignal<void>(undefined, { equals: false });\n    const ordinary = ExternalSourceFactory(c.fn, trigger);\n    onCleanup(() => ordinary.dispose());\n    const triggerInTransition: () => void = () =>\n      startTransition(trigger).then(() => inTransition.dispose());\n    const inTransition = ExternalSourceFactory(c.fn, triggerInTransition);\n    c.fn = x => {\n      track();\n      return Transition && Transition.running ? inTransition.track(x) : ordinary.track(x);\n    };\n  }\n\n  if (\"_SOLID_DEV_\") DevHooks.afterCreateOwner && DevHooks.afterCreateOwner(c);\n\n  return c;\n}\n\nfunction runTop(node: Computation<any>) {\n  const runningTransition = Transition && Transition.running;\n  if ((runningTransition ? node.tState : node.state) === 0) return;\n  if ((runningTransition ? node.tState : node.state) === PENDING) return lookUpstream(node);\n  if (node.suspense && untrack(node.suspense.inFallback!))\n    return node!.suspense.effects!.push(node!);\n  const ancestors = [node];\n  while (\n    (node = node.owner as Computation<any>) &&\n    (!node.updatedAt || node.updatedAt < ExecCount)\n  ) {\n    if (runningTransition && Transition!.disposed.has(node)) return;\n    if (runningTransition ? node.tState : node.state) ancestors.push(node);\n  }\n  for (let i = ancestors.length - 1; i >= 0; i--) {\n    node = ancestors[i];\n    if (runningTransition) {\n      let top = node,\n        prev = ancestors[i + 1];\n      while ((top = top.owner as Computation<any>) && top !== prev) {\n        if (Transition!.disposed.has(top)) return;\n      }\n    }\n    if ((runningTransition ? node.tState : node.state) === STALE) {\n      updateComputation(node);\n    } else if ((runningTransition ? node.tState : node.state) === PENDING) {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(node, ancestors[0]), false);\n      Updates = updates;\n    }\n  }\n}\n\nfunction runUpdates<T>(fn: () => T, init: boolean) {\n  if (Updates) return fn();\n  let wait = false;\n  if (!init) Updates = [];\n  if (Effects) wait = true;\n  else Effects = [];\n  ExecCount++;\n  try {\n    const res = fn();\n    completeUpdates(wait);\n    return res;\n  } catch (err) {\n    if (!wait) Effects = null;\n    Updates = null;\n    handleError(err);\n  }\n}\n\nfunction completeUpdates(wait: boolean) {\n  if (Updates) {\n    if (Scheduler && Transition && Transition.running) scheduleQueue(Updates);\n    else runQueue(Updates);\n    Updates = null;\n  }\n  if (wait) return;\n  let res;\n  if (Transition) {\n    if (!Transition.promises.size && !Transition.queue.size) {\n      // finish transition\n      const sources = Transition.sources;\n      const disposed = Transition.disposed;\n      Effects!.push.apply(Effects, Transition!.effects);\n      res = Transition.resolve;\n      for (const e of Effects!) {\n        \"tState\" in e && (e.state = e.tState!);\n        delete e.tState;\n      }\n      Transition = null;\n      runUpdates(() => {\n        for (const d of disposed) cleanNode(d);\n        for (const v of sources) {\n          v.value = v.tValue;\n          if ((v as Memo<any>).owned) {\n            for (let i = 0, len = (v as Memo<any>).owned!.length; i < len; i++)\n              cleanNode((v as Memo<any>).owned![i]);\n          }\n          if ((v as Memo<any>).tOwned) (v as Memo<any>).owned = (v as Memo<any>).tOwned!;\n          delete v.tValue;\n          delete (v as Memo<any>).tOwned;\n          (v as Memo<any>).tState = 0;\n        }\n        setTransPending(false);\n      }, false);\n    } else if (Transition.running) {\n      Transition.running = false;\n      Transition.effects.push.apply(Transition.effects, Effects!);\n      Effects = null;\n      setTransPending(true);\n      return;\n    }\n  }\n  const e = Effects!;\n  Effects = null;\n  if (e!.length) runUpdates(() => runEffects(e), false);\n  else if (\"_SOLID_DEV_\") DevHooks.afterUpdate && DevHooks.afterUpdate();\n  if (res) res();\n}\n\nfunction runQueue(queue: Computation<any>[]) {\n  for (let i = 0; i < queue.length; i++) runTop(queue[i]);\n}\n\nfunction scheduleQueue(queue: Computation<any>[]) {\n  for (let i = 0; i < queue.length; i++) {\n    const item = queue[i];\n    const tasks = Transition!.queue;\n    if (!tasks.has(item)) {\n      tasks.add(item);\n      Scheduler!(() => {\n        tasks.delete(item);\n        runUpdates(() => {\n          Transition!.running = true;\n          runTop(item);\n        }, false);\n        Transition && (Transition.running = false);\n      });\n    }\n  }\n}\n\nfunction runUserEffects(queue: Computation<any>[]) {\n  let i,\n    userLength = 0;\n  for (i = 0; i < queue.length; i++) {\n    const e = queue[i];\n    if (!e.user) runTop(e);\n    else queue[userLength++] = e;\n  }\n  if (sharedConfig.context) {\n    if (sharedConfig.count) {\n      sharedConfig.effects || (sharedConfig.effects = []);\n      sharedConfig.effects.push(...queue.slice(0, userLength));\n      return;\n    } else if (sharedConfig.effects) {\n      queue = [...sharedConfig.effects, ...queue];\n      userLength += sharedConfig.effects.length;\n      delete sharedConfig.effects;\n    }\n    setHydrateContext();\n  }\n  for (i = 0; i < userLength; i++) runTop(queue[i]);\n}\n\nfunction lookUpstream(node: Computation<any>, ignore?: Computation<any>) {\n  const runningTransition = Transition && Transition.running;\n  if (runningTransition) node.tState = 0;\n  else node.state = 0;\n  for (let i = 0; i < node.sources!.length; i += 1) {\n    const source = node.sources![i] as Memo<any>;\n    if (source.sources) {\n      const state = runningTransition ? source.tState : source.state;\n      if (state === STALE) {\n        if (source !== ignore && (!source.updatedAt || source.updatedAt < ExecCount))\n          runTop(source);\n      } else if (state === PENDING) lookUpstream(source, ignore);\n    }\n  }\n}\n\nfunction markDownstream(node: Memo<any>) {\n  const runningTransition = Transition && Transition.running;\n  for (let i = 0; i < node.observers!.length; i += 1) {\n    const o = node.observers![i];\n    if (runningTransition ? !o.tState : !o.state) {\n      if (runningTransition) o.tState = PENDING;\n      else o.state = PENDING;\n      if (o.pure) Updates!.push(o);\n      else Effects!.push(o);\n      (o as Memo<any>).observers && markDownstream(o as Memo<any>);\n    }\n  }\n}\n\nfunction cleanNode(node: Owner) {\n  let i;\n  if ((node as Computation<any>).sources) {\n    while ((node as Computation<any>).sources!.length) {\n      const source = (node as Computation<any>).sources!.pop()!,\n        index = (node as Computation<any>).sourceSlots!.pop()!,\n        obs = source.observers;\n      if (obs && obs.length) {\n        const n = obs.pop()!,\n          s = source.observerSlots!.pop()!;\n        if (index < obs.length) {\n          n.sourceSlots![s] = index;\n          obs[index] = n;\n          source.observerSlots![index] = s;\n        }\n      }\n    }\n  }\n\n  if (Transition && Transition.running && (node as Memo<any>).pure) {\n    if ((node as Memo<any>).tOwned) {\n      for (i = (node as Memo<any>).tOwned!.length - 1; i >= 0; i--)\n        cleanNode((node as Memo<any>).tOwned![i]);\n      delete (node as Memo<any>).tOwned;\n    }\n    reset(node as Computation<any>, true);\n  } else if (node.owned) {\n    for (i = node.owned.length - 1; i >= 0; i--) cleanNode(node.owned[i]);\n    node.owned = null;\n  }\n\n  if (node.cleanups) {\n    for (i = node.cleanups.length - 1; i >= 0; i--) node.cleanups[i]();\n    node.cleanups = null;\n  }\n  if (Transition && Transition.running) (node as Computation<any>).tState = 0;\n  else (node as Computation<any>).state = 0;\n  \"_SOLID_DEV_\" && delete node.sourceMap;\n}\n\nfunction reset(node: Computation<any>, top?: boolean) {\n  if (!top) {\n    node.tState = 0;\n    Transition!.disposed.add(node);\n  }\n  if (node.owned) {\n    for (let i = 0; i < node.owned.length; i++) reset(node.owned[i]);\n  }\n}\n\nfunction castError(err: unknown): Error {\n  if (err instanceof Error) return err;\n  return new Error(typeof err === \"string\" ? err : \"Unknown error\", { cause: err });\n}\n\nfunction runErrors(err: unknown, fns: ((err: any) => void)[], owner: Owner | null) {\n  try {\n    for (const f of fns) f(err);\n  } catch (e) {\n    handleError(e, (owner && owner.owner) || null);\n  }\n}\n\nfunction handleError(err: unknown, owner = Owner) {\n  const fns = ERROR && owner && owner.context && owner.context[ERROR];\n  const error = castError(err);\n  if (!fns) throw error;\n\n  if (Effects)\n    Effects!.push({\n      fn() {\n        runErrors(error, fns, owner);\n      },\n      state: STALE\n    } as unknown as Computation<any>);\n  else runErrors(error, fns, owner);\n}\n\nfunction resolveChildren(children: JSX.Element | Accessor<any>): ResolvedChildren {\n  if (typeof children === \"function\" && !children.length) return resolveChildren(children());\n  if (Array.isArray(children)) {\n    const results: any[] = [];\n    for (let i = 0; i < children.length; i++) {\n      const result = resolveChildren(children[i]);\n      Array.isArray(result) ? results.push.apply(results, result) : results.push(result);\n    }\n    return results;\n  }\n  return children as ResolvedChildren;\n}\n\nfunction createProvider(id: symbol, options?: EffectOptions) {\n  return function provider(props: FlowProps<{ value: unknown }>) {\n    let res;\n    createRenderEffect(\n      () =>\n        (res = untrack(() => {\n          Owner!.context = { ...Owner!.context, [id]: props.value };\n          return children(() => props.children);\n        })),\n      undefined,\n      options\n    );\n    return res;\n  };\n}\n\ntype TODO = any;\n\n/**\n * @deprecated since version 1.7.0 and will be removed in next major - use catchError instead\n * onError - run an effect whenever an error is thrown within the context of the child scopes\n * @param fn an error handler that receives the error\n *\n * * If the error is thrown again inside the error handler, it will trigger the next available parent handler\n *\n * @description https://www.solidjs.com/docs/latest/api#onerror\n */\nexport function onError(fn: (err: Error) => void): void {\n  ERROR || (ERROR = Symbol(\"error\"));\n  if (Owner === null)\n    \"_SOLID_DEV_\" &&\n      console.warn(\"error handlers created outside a `createRoot` or `render` will never be run\");\n  else if (Owner.context === null || !Owner.context[ERROR]) {\n    // terrible de-opt\n    Owner.context = { ...Owner.context, [ERROR]: [fn] };\n    mutateContext(Owner, ERROR, [fn]);\n  } else Owner.context[ERROR].push(fn);\n}\n\nfunction mutateContext(o: Owner, key: symbol, value: any) {\n  if (o.owned) {\n    for (let i = 0; i < o.owned.length; i++) {\n      if (o.owned[i].context === o.context) mutateContext(o.owned[i], key, value);\n      if (!o.owned[i].context) {\n        o.owned[i].context = o.context;\n        mutateContext(o.owned[i], key, value);\n      } else if (!o.owned[i].context[key]) {\n        o.owned[i].context[key] = value;\n        mutateContext(o.owned[i], key, value);\n      }\n    }\n  }\n}\n","import {\n  Accessor,\n  createEffect,\n  createRoot,\n  createSignal,\n  getOwner,\n  onCleanup,\n  Setter,\n  untrack\n} from \"./signal.js\";\n\n// Note: This will add Symbol.observable globally for all TypeScript users,\n// however, we are not polyfilling Symbol.observable. Ensuring the type for\n// this global symbol is present is necessary for `observable()` to be\n// properly typed for 3rd party library's like RXJS.\ndeclare global {\n  interface SymbolConstructor {\n    readonly observable: symbol;\n  }\n}\n\ninterface Observable<T> {\n  subscribe(observer: ObservableObserver<T>): {\n    unsubscribe(): void;\n  };\n  [Symbol.observable](): Observable<T>;\n}\n\nexport type ObservableObserver<T> =\n  | ((v: T) => void)\n  | {\n      next?: (v: T) => void;\n      error?: (v: any) => void;\n      complete?: (v: boolean) => void;\n    };\n/**\n * creates a simple observable from a signal's accessor to be used with the `from` operator of observable libraries like e.g. rxjs\n * ```typescript\n * import { from } from \"rxjs\";\n * const [s, set] = createSignal(0);\n * const obsv$ = from(observable(s));\n * obsv$.subscribe((v) => console.log(v));\n * ```\n * description https://www.solidjs.com/docs/latest/api#observable\n */\nexport function observable<T>(input: Accessor<T>): Observable<T> {\n  return {\n    subscribe(observer: ObservableObserver<T>) {\n      if (!(observer instanceof Object) || observer == null) {\n        throw new TypeError(\"Expected the observer to be an object.\");\n      }\n\n      const handler =\n        typeof observer === \"function\" ? observer : observer.next && observer.next.bind(observer);\n\n      if (!handler) {\n        return { unsubscribe() {} };\n      }\n\n      const dispose = createRoot(disposer => {\n        createEffect(() => {\n          const v = input();\n          untrack(() => handler(v));\n        });\n\n        return disposer;\n      });\n\n      if (getOwner()) onCleanup(dispose);\n\n      return {\n        unsubscribe() {\n          dispose();\n        }\n      };\n    },\n    // Here we're intentionally using `Symbol.observable || \"@@observable\"` directly\n    // without assigning it to an intermediary variable (e.g. we aren't doing\n    // `const $$observable = Symbol.observable || \"@@observable\"`).\n    // See for more info: https://github.com/solidjs/solid/pull/1118\n    [Symbol.observable || \"@@observable\"]() {\n      return this;\n    }\n  };\n}\n\nexport function from<T>(\n  producer:\n    | ((setter: Setter<T | undefined>) => () => void)\n    | { subscribe: (fn: (v: T) => void) => (() => void) | { unsubscribe: () => void } }\n): Accessor<T | undefined> {\n  const [s, set] = createSignal<T | undefined>(undefined, { equals: false });\n  if (\"subscribe\" in producer) {\n    const unsub = producer.subscribe(v => set(() => v));\n    onCleanup(() => (\"unsubscribe\" in unsub ? unsub.unsubscribe() : unsub()));\n  } else {\n    const clean = producer(set);\n    onCleanup(clean);\n  }\n  return s;\n}\n","import {\n  onCleanup,\n  createRoot,\n  untrack,\n  createSignal,\n  Accessor,\n  Setter,\n  $TRACK\n} from \"./signal.js\";\n\nconst FALLBACK = Symbol(\"fallback\");\nfunction dispose(d: (() => void)[]) {\n  for (let i = 0; i < d.length; i++) d[i]();\n}\n\n// Modified version of mapSample from S-array[https://github.com/adamhaile/S-array] by Adam Haile\n/**\nThe MIT License (MIT)\n\nCopyright (c) 2017 Adam Haile\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n/**\n * reactively transforms an array with a callback function - underlying helper for the `<For>` control flow\n *\n * similar to `Array.prototype.map`, but gets the index as accessor, transforms only values that changed and returns an accessor and reactively tracks changes to the list.\n *\n * @description https://www.solidjs.com/docs/latest/api#maparray\n */\nexport function mapArray<T, U>(\n  list: Accessor<readonly T[] | undefined | null | false>,\n  mapFn: (v: T, i: Accessor<number>) => U,\n  options: { fallback?: Accessor<any> } = {}\n): () => U[] {\n  let items: (T | typeof FALLBACK)[] = [],\n    mapped: U[] = [],\n    disposers: (() => void)[] = [],\n    len = 0,\n    indexes: ((v: number) => number)[] | null = mapFn.length > 1 ? [] : null;\n\n  onCleanup(() => dispose(disposers));\n  return () => {\n    let newItems = list() || [],\n      i: number,\n      j: number;\n    (newItems as any)[$TRACK]; // top level tracking\n    return untrack(() => {\n      let newLen = newItems.length,\n        newIndices: Map<T | typeof FALLBACK, number>,\n        newIndicesNext: number[],\n        temp: U[],\n        tempdisposers: (() => void)[],\n        tempIndexes: ((v: number) => number)[],\n        start: number,\n        end: number,\n        newEnd: number,\n        item: T | typeof FALLBACK;\n\n      // fast path for empty arrays\n      if (newLen === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          indexes && (indexes = []);\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback!();\n          });\n          len = 1;\n        }\n      }\n      // fast path for new create\n      else if (len === 0) {\n        mapped = new Array(newLen);\n        for (j = 0; j < newLen; j++) {\n          items[j] = newItems[j];\n          mapped[j] = createRoot(mapper);\n        }\n        len = newLen;\n      } else {\n        temp = new Array(newLen);\n        tempdisposers = new Array(newLen);\n        indexes && (tempIndexes = new Array(newLen));\n\n        // skip common prefix\n        for (\n          start = 0, end = Math.min(len, newLen);\n          start < end && items[start] === newItems[start];\n          start++\n        );\n\n        // common suffix\n        for (\n          end = len - 1, newEnd = newLen - 1;\n          end >= start && newEnd >= start && items[end] === newItems[newEnd];\n          end--, newEnd--\n        ) {\n          temp[newEnd] = mapped[end];\n          tempdisposers[newEnd] = disposers[end];\n          indexes && (tempIndexes![newEnd] = indexes[end]);\n        }\n\n        // 0) prepare a map of all indices in newItems, scanning backwards so we encounter them in natural order\n        newIndices = new Map<T, number>();\n        newIndicesNext = new Array(newEnd + 1);\n        for (j = newEnd; j >= start; j--) {\n          item = newItems[j];\n          i = newIndices.get(item)!;\n          newIndicesNext[j] = i === undefined ? -1 : i;\n          newIndices.set(item, j);\n        }\n        // 1) step through all old items and see if they can be found in the new set; if so, save them in a temp array and mark them moved; if not, exit them\n        for (i = start; i <= end; i++) {\n          item = items[i];\n          j = newIndices.get(item)!;\n          if (j !== undefined && j !== -1) {\n            temp[j] = mapped[i];\n            tempdisposers[j] = disposers[i];\n            indexes && (tempIndexes![j] = indexes[i]);\n            j = newIndicesNext[j];\n            newIndices.set(item, j);\n          } else disposers[i]();\n        }\n        // 2) set all the new values, pulling from the temp array if copied, otherwise entering the new value\n        for (j = start; j < newLen; j++) {\n          if (j in temp) {\n            mapped[j] = temp[j];\n            disposers[j] = tempdisposers[j];\n            if (indexes) {\n              indexes[j] = tempIndexes![j];\n              indexes[j](j);\n            }\n          } else mapped[j] = createRoot(mapper);\n        }\n        // 3) in case the new set is shorter than the old, set the length of the mapped array\n        mapped = mapped.slice(0, (len = newLen));\n        // 4) save a copy of the mapped items for the next update\n        items = newItems.slice(0);\n      }\n      return mapped;\n    });\n    function mapper(disposer: () => void) {\n      disposers[j] = disposer;\n      if (indexes) {\n        const [s, set] = \"_SOLID_DEV_\" ? createSignal(j, { name: \"index\" }) : createSignal(j);\n        indexes[j] = set;\n        return mapFn(newItems[j], s);\n      }\n      return (mapFn as any)(newItems[j]);\n    }\n  };\n}\n\n/**\n * reactively maps arrays by index instead of value - underlying helper for the `<Index>` control flow\n *\n * similar to `Array.prototype.map`, but gets the value as an accessor, transforms only changed items of the original arrays anew and returns an accessor.\n *\n * @description https://www.solidjs.com/docs/latest/api#indexarray\n */\nexport function indexArray<T, U>(\n  list: Accessor<readonly T[] | undefined | null | false>,\n  mapFn: (v: Accessor<T>, i: number) => U,\n  options: { fallback?: Accessor<any> } = {}\n): () => U[] {\n  let items: (T | typeof FALLBACK)[] = [],\n    mapped: U[] = [],\n    disposers: (() => void)[] = [],\n    signals: Setter<T>[] = [],\n    len = 0,\n    i: number;\n\n  onCleanup(() => dispose(disposers));\n  return () => {\n    const newItems = list() || [];\n    (newItems as any)[$TRACK]; // top level tracking\n    return untrack(() => {\n      if (newItems.length === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          signals = [];\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback!();\n          });\n          len = 1;\n        }\n        return mapped;\n      }\n      if (items[0] === FALLBACK) {\n        disposers[0]();\n        disposers = [];\n        items = [];\n        mapped = [];\n        len = 0;\n      }\n\n      for (i = 0; i < newItems.length; i++) {\n        if (i < items.length && items[i] !== newItems[i]) {\n          signals[i](() => newItems[i]);\n        } else if (i >= items.length) {\n          mapped[i] = createRoot(mapper);\n        }\n      }\n      for (; i < items.length; i++) {\n        disposers[i]();\n      }\n      len = signals.length = disposers.length = newItems.length;\n      items = newItems.slice(0);\n      return (mapped = mapped.slice(0, len));\n    });\n    function mapper(disposer: () => void) {\n      disposers[i] = disposer;\n      const [s, set] = \"_SOLID_DEV_\"\n        ? createSignal(newItems[i], { name: \"value\" })\n        : createSignal(newItems[i]);\n      signals[i] = set;\n      return mapFn(s, i);\n    }\n  };\n}\n","import {\n  untrack,\n  createSignal,\n  createResource,\n  createMemo,\n  devComponent,\n  $PROXY,\n  $DEVCOMP,\n  EffectFunction\n} from \"../reactive/signal.js\";\nimport { sharedConfig, nextHydrateContext, setHydrateContext } from \"./hydration.js\";\nimport type { JSX } from \"../jsx.js\";\n\nlet hydrationEnabled = false;\nexport function enableHydration() {\n  hydrationEnabled = true;\n}\n\n/**\n * A general `Component` has no implicit `children` prop.  If desired, you can\n * specify one as in `Component<{name: String, children: JSX.Element}>`.\n */\nexport type Component<P = {}> = (props: P) => JSX.Element;\n\n/**\n * Extend props to forbid the `children` prop.\n * Use this to prevent accidentally passing `children` to components that\n * would silently throw them away.\n */\nexport type VoidProps<P = {}> = P & { children?: never };\n/**\n * `VoidComponent` forbids the `children` prop.\n * Use this to prevent accidentally passing `children` to components that\n * would silently throw them away.\n */\nexport type VoidComponent<P = {}> = Component<VoidProps<P>>;\n\n/**\n * Extend props to allow an optional `children` prop with the usual\n * type in JSX, `JSX.Element` (which allows elements, arrays, functions, etc.).\n * Use this for components that you want to accept children.\n */\nexport type ParentProps<P = {}> = P & { children?: JSX.Element };\n/**\n * `ParentComponent` allows an optional `children` prop with the usual\n * type in JSX, `JSX.Element` (which allows elements, arrays, functions, etc.).\n * Use this for components that you want to accept children.\n */\nexport type ParentComponent<P = {}> = Component<ParentProps<P>>;\n\n/**\n * Extend props to require a `children` prop with the specified type.\n * Use this for components where you need a specific child type,\n * typically a function that receives specific argument types.\n * Note that all JSX <Elements> are of the type `JSX.Element`.\n */\nexport type FlowProps<P = {}, C = JSX.Element> = P & { children: C };\n/**\n * `FlowComponent` requires a `children` prop with the specified type.\n * Use this for components where you need a specific child type,\n * typically a function that receives specific argument types.\n * Note that all JSX <Elements> are of the type `JSX.Element`.\n */\nexport type FlowComponent<P = {}, C = JSX.Element> = Component<FlowProps<P, C>>;\n\n/** @deprecated: use `ParentProps` instead */\nexport type PropsWithChildren<P = {}> = ParentProps<P>;\n\nexport type ValidComponent = keyof JSX.IntrinsicElements | Component<any> | (string & {});\n\n/**\n * Takes the props of the passed component and returns its type\n *\n * @example\n * ComponentProps<typeof Portal> // { mount?: Node; useShadow?: boolean; children: JSX.Element }\n * ComponentProps<'div'> // JSX.HTMLAttributes<HTMLDivElement>\n */\nexport type ComponentProps<T extends ValidComponent> = T extends Component<infer P>\n  ? P\n  : T extends keyof JSX.IntrinsicElements\n  ? JSX.IntrinsicElements[T]\n  : Record<string, unknown>;\n\n/**\n * Type of `props.ref`, for use in `Component` or `props` typing.\n *\n * @example Component<{ref: Ref<Element>}>\n */\nexport type Ref<T> = T | ((val: T) => void);\n\nexport function createComponent<T>(Comp: Component<T>, props: T): JSX.Element {\n  if (hydrationEnabled) {\n    if (sharedConfig.context) {\n      const c = sharedConfig.context;\n      setHydrateContext(nextHydrateContext());\n      const r = \"_SOLID_DEV_\"\n        ? devComponent(Comp, props || ({} as T))\n        : untrack(() => Comp(props || ({} as T)));\n      setHydrateContext(c);\n      return r;\n    }\n  }\n  if (\"_SOLID_DEV_\") return devComponent(Comp, props || ({} as T));\n  return untrack(() => Comp(props || ({} as T)));\n}\n\nfunction trueFn() {\n  return true;\n}\n\nconst propTraps: ProxyHandler<{\n  get: (k: string | number | symbol) => any;\n  has: (k: string | number | symbol) => boolean;\n  keys: () => string[];\n}> = {\n  get(_, property, receiver) {\n    if (property === $PROXY) return receiver;\n    return _.get(property);\n  },\n  has(_, property) {\n    if (property === $PROXY) return true;\n    return _.has(property);\n  },\n  set: trueFn,\n  deleteProperty: trueFn,\n  getOwnPropertyDescriptor(_, property) {\n    return {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return _.get(property);\n      },\n      set: trueFn,\n      deleteProperty: trueFn\n    };\n  },\n  ownKeys(_) {\n    return _.keys();\n  }\n};\n\ntype DistributeOverride<T, F> = T extends undefined ? F : T;\ntype Override<T, U> = T extends any\n  ? U extends any\n    ? {\n        [K in keyof T]: K extends keyof U ? DistributeOverride<U[K], T[K]> : T[K];\n      } & {\n        [K in keyof U]: K extends keyof T ? DistributeOverride<U[K], T[K]> : U[K];\n      }\n    : T & U\n  : T & U;\ntype OverrideSpread<T, U> = T extends any\n  ? {\n      [K in keyof ({ [K in keyof T]: any } & { [K in keyof U]?: any } & {\n        [K in U extends any ? keyof U : keyof U]?: any;\n      })]: K extends keyof T\n        ? Exclude<U extends any ? U[K & keyof U] : never, undefined> | T[K]\n        : U extends any\n        ? U[K & keyof U]\n        : never;\n    }\n  : T & U;\ntype Simplify<T> = T extends any ? { [K in keyof T]: T[K] } : T;\ntype _MergeProps<T extends unknown[], Curr = {}> = T extends [\n  infer Next | (() => infer Next),\n  ...infer Rest\n]\n  ? _MergeProps<Rest, Override<Curr, Next>>\n  : T extends [...infer Rest, infer Next | (() => infer Next)]\n  ? Override<_MergeProps<Rest, Curr>, Next>\n  : T extends []\n  ? Curr\n  : T extends (infer I | (() => infer I))[]\n  ? OverrideSpread<Curr, I>\n  : Curr;\n\nexport type MergeProps<T extends unknown[]> = Simplify<_MergeProps<T>>;\n\nfunction resolveSource(s: any) {\n  return !(s = typeof s === \"function\" ? s() : s) ? {} : s;\n}\n\nfunction resolveSources(this: (() => any)[]) {\n  for (let i = 0, length = this.length; i < length; ++i) {\n    const v = this[i]();\n    if (v !== undefined) return v;\n  }\n}\n\nexport function mergeProps<T extends unknown[]>(...sources: T): MergeProps<T> {\n  // [breaking && performance]\n  //if (sources.length === 1) return sources[0] as any;\n  let proxy = false;\n  for (let i = 0; i < sources.length; i++) {\n    const s = sources[i];\n    proxy = proxy || (!!s && $PROXY in (s as object));\n    sources[i] =\n      typeof s === \"function\" ? ((proxy = true), createMemo(s as EffectFunction<unknown>)) : s;\n  }\n  if (proxy) {\n    return new Proxy(\n      {\n        get(property: string | number | symbol) {\n          for (let i = sources.length - 1; i >= 0; i--) {\n            const v = resolveSource(sources[i])[property];\n            if (v !== undefined) return v;\n          }\n        },\n        has(property: string | number | symbol) {\n          for (let i = sources.length - 1; i >= 0; i--) {\n            if (property in resolveSource(sources[i])) return true;\n          }\n          return false;\n        },\n        keys() {\n          const keys = [];\n          for (let i = 0; i < sources.length; i++)\n            keys.push(...Object.keys(resolveSource(sources[i])));\n          return [...new Set(keys)];\n        }\n      },\n      propTraps\n    ) as unknown as MergeProps<T>;\n  }\n  const target: Record<string, any> = {};\n  const sourcesMap: Record<string, any[]> = {};\n  const defined = new Set<string>();\n  //let someNonTargetKey = false;\n\n  for (let i = sources.length - 1; i >= 0; i--) {\n    const source = sources[i] as Record<string, any>;\n    if (!source) continue;\n    const sourceKeys = Object.getOwnPropertyNames(source);\n    //someNonTargetKey = someNonTargetKey || (i !== 0 && !!sourceKeys.length);\n    for (let i = 0, length = sourceKeys.length; i < length; i++) {\n      const key = sourceKeys[i];\n      if (key === \"__proto__\" || key === \"constructor\") continue;\n      const desc = Object.getOwnPropertyDescriptor(source, key)!;\n      if (!defined.has(key)) {\n        if (desc.get) {\n          defined.add(key);\n          Object.defineProperty(target, key, {\n            enumerable: true,\n            configurable: true,\n            get: resolveSources.bind((sourcesMap[key] = [desc.get.bind(source)]))\n          });\n        } else {\n          if (desc.value !== undefined) defined.add(key);\n          target[key] = desc.value;\n        }\n      } else {\n        const sources = sourcesMap[key];\n        if (sources) {\n          if (desc.get) {\n            sources.push(desc.get.bind(source));\n          } else if (desc.value !== undefined) {\n            sources.push(() => desc.value);\n          }\n        } else if (target[key] === undefined) target[key] = desc.value;\n      }\n    }\n  }\n  // [breaking && performance]\n  //return (someNonTargetKey ? target : sources[0]) as any;\n  return target as any;\n}\n\nexport type SplitProps<T, K extends (readonly (keyof T)[])[]> = [\n  ...{\n    [P in keyof K]: P extends `${number}`\n      ? Pick<T, Extract<K[P], readonly (keyof T)[]>[number]>\n      : never;\n  },\n  Omit<T, K[number][number]>\n];\n\nexport function splitProps<\n  T extends Record<any, any>,\n  K extends [readonly (keyof T)[], ...(readonly (keyof T)[])[]]\n>(props: T, ...keys: K): SplitProps<T, K> {\n  if ($PROXY in props) {\n    const blocked = new Set<keyof T>(keys.length > 1 ? keys.flat() : keys[0]);\n    const res = keys.map(k => {\n      return new Proxy(\n        {\n          get(property) {\n            return k.includes(property) ? props[property as any] : undefined;\n          },\n          has(property) {\n            return k.includes(property) && property in props;\n          },\n          keys() {\n            return k.filter(property => property in props);\n          }\n        },\n        propTraps\n      );\n    });\n    res.push(\n      new Proxy(\n        {\n          get(property) {\n            return blocked.has(property) ? undefined : props[property as any];\n          },\n          has(property) {\n            return blocked.has(property) ? false : property in props;\n          },\n          keys() {\n            return Object.keys(props).filter(k => !blocked.has(k));\n          }\n        },\n        propTraps\n      )\n    );\n    return res as SplitProps<T, K>;\n  }\n  const otherObject: Record<string, any> = {};\n  const objects: Record<string, any>[] = keys.map(() => ({}));\n\n  for (const propName of Object.getOwnPropertyNames(props)) {\n    const desc = Object.getOwnPropertyDescriptor(props, propName)!;\n    const isDefaultDesc =\n      !desc.get && !desc.set && desc.enumerable && desc.writable && desc.configurable;\n    let blocked = false;\n    let objectIndex = 0;\n    for (const k of keys) {\n      if (k.includes(propName)) {\n        blocked = true;\n        isDefaultDesc\n          ? (objects[objectIndex][propName] = desc.value)\n          : Object.defineProperty(objects[objectIndex], propName, desc);\n      }\n      ++objectIndex;\n    }\n    if (!blocked) {\n      isDefaultDesc\n        ? (otherObject[propName] = desc.value)\n        : Object.defineProperty(otherObject, propName, desc);\n    }\n  }\n  return [...objects, otherObject] as any;\n}\n\n// lazy load a function component asynchronously\nexport function lazy<T extends Component<any>>(\n  fn: () => Promise<{ default: T }>\n): T & { preload: () => Promise<{ default: T }> } {\n  let comp: () => T | undefined;\n  let p: Promise<{ default: T }> | undefined;\n  const wrap: T & { preload?: () => void } = ((props: any) => {\n    const ctx = sharedConfig.context;\n    if (ctx) {\n      const [s, set] = createSignal<T>();\n      sharedConfig.count || (sharedConfig.count = 0);\n      sharedConfig.count++;\n      (p || (p = fn())).then(mod => {\n        setHydrateContext(ctx);\n        sharedConfig.count!--;\n        set(() => mod.default);\n        setHydrateContext();\n      });\n      comp = s;\n    } else if (!comp) {\n      const [s] = createResource<T>(() => (p || (p = fn())).then(mod => mod.default));\n      comp = s;\n    }\n    let Comp: T | undefined;\n    return createMemo(\n      () =>\n        (Comp = comp()) &&\n        untrack(() => {\n          if (\"_SOLID_DEV_\") Object.assign(Comp!, { [$DEVCOMP]: true });\n          if (!ctx) return Comp!(props);\n          const c = sharedConfig.context;\n          setHydrateContext(ctx);\n          const r = Comp!(props);\n          setHydrateContext(c);\n          return r;\n        })\n    ) as unknown as JSX.Element;\n  }) as T;\n  wrap.preload = () => p || ((p = fn()).then(mod => (comp = () => mod.default)), p);\n  return wrap as T & { preload: () => Promise<{ default: T }> };\n}\n\nlet counter = 0;\nexport function createUniqueId(): string {\n  const ctx = sharedConfig.context;\n  return ctx ? `${ctx.id}${ctx.count++}` : `cl-${counter++}`;\n}\n","import {\n  createMemo,\n  untrack,\n  createSignal,\n  catchError,\n  children,\n  Accessor,\n  Setter,\n  onCleanup,\n  MemoOptions\n} from \"../reactive/signal.js\";\nimport { mapArray, indexArray } from \"../reactive/array.js\";\nimport { sharedConfig } from \"./hydration.js\";\nimport type { JSX } from \"../jsx.js\";\n\nconst narrowedError = (name: string) =>\n  \"_SOLID_DEV_\"\n    ? `Attempting to access a stale value from <${name}> that could possibly be undefined. This may occur because you are reading the accessor returned from the component at a time where it has already been unmounted. We recommend cleaning up any stale timers or async, or reading from the initial condition.`\n    : `Stale read from <${name}>.`;\n\n/**\n * creates a list elements from a list\n *\n * it receives a map function as its child that receives a list element and an accessor with the index and returns a JSX-Element; if the list is empty, an optional fallback is returned:\n * ```typescript\n * <For each={items} fallback={<div>No items</div>}>\n *   {(item, index) => <div data-index={index()}>{item}</div>}\n * </For>\n * ```\n * If you have a list with fixed indices and changing values, consider using `<Index>` instead.\n *\n * @description https://www.solidjs.com/docs/latest/api#for\n */\nexport function For<T extends readonly any[], U extends JSX.Element>(props: {\n  each: T | undefined | null | false;\n  fallback?: JSX.Element;\n  children: (item: T[number], index: Accessor<number>) => U;\n}) {\n  const fallback = \"fallback\" in props && { fallback: () => props.fallback };\n  return (\"_SOLID_DEV_\"\n    ? createMemo(\n        mapArray(() => props.each, props.children, fallback || undefined),\n        undefined,\n        { name: \"value\" }\n      )\n    : createMemo(\n        mapArray(() => props.each, props.children, fallback || undefined)\n      )) as unknown as JSX.Element;\n}\n\n/**\n * Non-keyed iteration over a list creating elements from its items\n *\n * To be used if you have a list with fixed indices, but changing values.\n * ```typescript\n * <Index each={items} fallback={<div>No items</div>}>\n *   {(item, index) => <div data-index={index}>{item()}</div>}\n * </Index>\n * ```\n * If you have a list with changing indices, better use `<For>`.\n *\n * @description https://www.solidjs.com/docs/latest/api#index\n */\nexport function Index<T extends readonly any[], U extends JSX.Element>(props: {\n  each: T | undefined | null | false;\n  fallback?: JSX.Element;\n  children: (item: Accessor<T[number]>, index: number) => U;\n}) {\n  const fallback = \"fallback\" in props && { fallback: () => props.fallback };\n  return (\"_SOLID_DEV_\"\n    ? createMemo(\n        indexArray(() => props.each, props.children, fallback || undefined),\n        undefined,\n        { name: \"value\" }\n      )\n    : createMemo(\n        indexArray(() => props.each, props.children, fallback || undefined)\n      )) as unknown as JSX.Element;\n}\n\ntype RequiredParameter<T> = T extends () => unknown ? never : T;\n/**\n * Conditionally render its children or an optional fallback component\n * @description https://www.solidjs.com/docs/latest/api#show\n */\nexport function Show<\n  T,\n  TRenderFunction extends (item: Accessor<NonNullable<T>>) => JSX.Element\n>(props: {\n  when: T | undefined | null | false;\n  keyed?: false;\n  fallback?: JSX.Element;\n  children: JSX.Element | RequiredParameter<TRenderFunction>;\n}): JSX.Element;\nexport function Show<T, TRenderFunction extends (item: NonNullable<T>) => JSX.Element>(props: {\n  when: T | undefined | null | false;\n  keyed: true;\n  fallback?: JSX.Element;\n  children: JSX.Element | RequiredParameter<TRenderFunction>;\n}): JSX.Element;\nexport function Show<T>(props: {\n  when: T | undefined | null | false;\n  keyed?: boolean;\n  fallback?: JSX.Element;\n  children: JSX.Element | ((item: NonNullable<T> | Accessor<NonNullable<T>>) => JSX.Element);\n}): JSX.Element {\n  const keyed = props.keyed;\n  const condition = createMemo<T | undefined | null | boolean>(\n    () => props.when,\n    undefined,\n    \"_SOLID_DEV_\"\n      ? {\n          equals: (a, b) => (keyed ? a === b : !a === !b),\n          name: \"condition\"\n        }\n      : { equals: (a, b) => (keyed ? a === b : !a === !b) }\n  );\n  return createMemo(\n    () => {\n      const c = condition();\n      if (c) {\n        const child = props.children;\n        const fn = typeof child === \"function\" && child.length > 0;\n        return fn\n          ? untrack(() =>\n              (child as any)(\n                keyed\n                  ? (c as T)\n                  : () => {\n                      if (!untrack(condition)) throw narrowedError(\"Show\");\n                      return props.when;\n                    }\n              )\n            )\n          : child;\n      }\n      return props.fallback;\n    },\n    undefined,\n    \"_SOLID_DEV_\" ? { name: \"value\" } : undefined\n  ) as unknown as JSX.Element;\n}\n\ntype EvalConditions = readonly [number, unknown?, MatchProps<unknown>?];\n\n/**\n * switches between content based on mutually exclusive conditions\n * ```typescript\n * <Switch fallback={<FourOhFour />}>\n *   <Match when={state.route === 'home'}>\n *     <Home />\n *   </Match>\n *   <Match when={state.route === 'settings'}>\n *     <Settings />\n *   </Match>\n * </Switch>\n * ```\n * @description https://www.solidjs.com/docs/latest/api#switchmatch\n */\nexport function Switch(props: { fallback?: JSX.Element; children: JSX.Element }): JSX.Element {\n  let keyed = false;\n  const equals: MemoOptions<EvalConditions>[\"equals\"] = (a, b) =>\n    a[0] === b[0] && (keyed ? a[1] === b[1] : !a[1] === !b[1]) && a[2] === b[2];\n  const conditions = children(() => props.children) as unknown as () => MatchProps<unknown>[],\n    evalConditions = createMemo(\n      (): EvalConditions => {\n        let conds = conditions();\n        if (!Array.isArray(conds)) conds = [conds];\n        for (let i = 0; i < conds.length; i++) {\n          const c = conds[i].when;\n          if (c) {\n            keyed = !!conds[i].keyed;\n            return [i, c, conds[i]];\n          }\n        }\n        return [-1];\n      },\n      undefined,\n      \"_SOLID_DEV_\" ? { equals, name: \"eval conditions\" } : { equals }\n    );\n  return createMemo(\n    () => {\n      const [index, when, cond] = evalConditions();\n      if (index < 0) return props.fallback;\n      const c = cond!.children;\n      const fn = typeof c === \"function\" && c.length > 0;\n      return fn\n        ? untrack(() =>\n            (c as any)(\n              keyed\n                ? when\n                : () => {\n                    if (untrack(evalConditions)[0] !== index) throw narrowedError(\"Match\");\n                    return cond!.when;\n                  }\n            )\n          )\n        : c;\n    },\n    undefined,\n    \"_SOLID_DEV_\" ? { name: \"value\" } : undefined\n  ) as unknown as JSX.Element;\n}\n\nexport type MatchProps<T> = {\n  when: T | undefined | null | false;\n  keyed?: boolean;\n  children: JSX.Element | ((item: NonNullable<T> | Accessor<NonNullable<T>>) => JSX.Element);\n};\n/**\n * selects a content based on condition when inside a `<Switch>` control flow\n * ```typescript\n * <Match when={condition()}>\n *   <Content/>\n * </Match>\n * ```\n * @description https://www.solidjs.com/docs/latest/api#switchmatch\n */\nexport function Match<\n  T,\n  TRenderFunction extends (item: Accessor<NonNullable<T>>) => JSX.Element\n>(props: {\n  when: T | undefined | null | false;\n  keyed?: false;\n  children: JSX.Element | RequiredParameter<TRenderFunction>;\n}): JSX.Element;\nexport function Match<T, TRenderFunction extends (item: NonNullable<T>) => JSX.Element>(props: {\n  when: T | undefined | null | false;\n  keyed: true;\n  children: JSX.Element | RequiredParameter<TRenderFunction>;\n}): JSX.Element;\nexport function Match<T>(props: MatchProps<T>) {\n  return props as unknown as JSX.Element;\n}\n\nlet Errors: Set<Setter<any>>;\nexport function resetErrorBoundaries() {\n  Errors && [...Errors].forEach(fn => fn());\n}\n/**\n * catches uncaught errors inside components and renders a fallback content\n *\n * Also supports a callback form that passes the error and a reset function:\n * ```typescript\n * <ErrorBoundary fallback={\n *   (err, reset) => <div onClick={reset}>Error: {err.toString()}</div>\n * }>\n *   <MyComp />\n * </ErrorBoundary>\n * ```\n * Errors thrown from the fallback can be caught by a parent ErrorBoundary\n *\n * @description https://www.solidjs.com/docs/latest/api#errorboundary\n */\nexport function ErrorBoundary(props: {\n  fallback: JSX.Element | ((err: any, reset: () => void) => JSX.Element);\n  children: JSX.Element;\n}): JSX.Element {\n  let err;\n  if (sharedConfig!.context && sharedConfig!.load)\n    err = sharedConfig.load(sharedConfig.context.id + sharedConfig.context.count);\n  const [errored, setErrored] = createSignal<any>(\n    err,\n    \"_SOLID_DEV_\" ? { name: \"errored\" } : undefined\n  );\n  Errors || (Errors = new Set());\n  Errors.add(setErrored);\n  onCleanup(() => Errors.delete(setErrored));\n  return createMemo(\n    () => {\n      let e: any;\n      if ((e = errored())) {\n        const f = props.fallback;\n        if (\"_SOLID_DEV_\" && (typeof f !== \"function\" || f.length == 0)) console.error(e);\n        return typeof f === \"function\" && f.length ? untrack(() => f(e, () => setErrored())) : f;\n      }\n      return catchError(() => props.children, setErrored);\n    },\n    undefined,\n    \"_SOLID_DEV_\" ? { name: \"value\" } : undefined\n  ) as unknown as JSX.Element;\n}\n","import { createComponent } from \"./component.js\";\nimport {\n  createRoot,\n  createSignal,\n  createContext,\n  useContext,\n  getSuspenseContext,\n  resumeEffects,\n  createMemo,\n  Accessor,\n  onCleanup,\n  getOwner\n} from \"../reactive/signal.js\";\nimport { HydrationContext, setHydrateContext, sharedConfig } from \"./hydration.js\";\nimport type { JSX } from \"../jsx.js\";\n\ntype SuspenseListContextType = {\n  register: (inFallback: Accessor<boolean>) => Accessor<SuspenseListRegisteredState>;\n};\n\ntype SuspenseListRegisteredState = { showContent: boolean; showFallback: boolean };\ninterface SuspenseListState extends Array<SuspenseListRegisteredState> {\n  inFallback: boolean;\n}\n\nconst suspenseListEquals = (a: SuspenseListRegisteredState, b: SuspenseListRegisteredState) =>\n  a.showContent === b.showContent && a.showFallback === b.showFallback;\nconst SuspenseListContext = createContext<SuspenseListContextType>();\n\n/**\n * **[experimental]** controls the order in which suspended content is rendered\n *\n * @description https://www.solidjs.com/docs/latest/api#suspenselist-experimental\n */\nexport function SuspenseList(props: {\n  children: JSX.Element;\n  revealOrder: \"forwards\" | \"backwards\" | \"together\";\n  tail?: \"collapsed\" | \"hidden\";\n}) {\n  let [wrapper, setWrapper] = createSignal(() => ({ inFallback: false })),\n    show: Accessor<{ showContent: boolean; showFallback: boolean }>;\n\n  // Nested SuspenseList support\n  const listContext = useContext(SuspenseListContext);\n  const [registry, setRegistry] = createSignal<Accessor<boolean>[]>([]);\n  if (listContext) {\n    show = listContext.register(createMemo(() => wrapper()().inFallback));\n  }\n  const resolved = createMemo<SuspenseListState>(\n    (prev: Partial<SuspenseListState>) => {\n      const reveal = props.revealOrder,\n        tail = props.tail,\n        { showContent = true, showFallback = true } = show ? show() : {},\n        reg = registry(),\n        reverse = reveal === \"backwards\";\n\n      if (reveal === \"together\") {\n        const all = reg.every(inFallback => !inFallback());\n        const res: SuspenseListState = reg.map(() => ({\n          showContent: all && showContent,\n          showFallback\n        })) as SuspenseListState;\n        res.inFallback = !all;\n        return res;\n      }\n\n      let stop = false;\n      let inFallback = prev.inFallback as boolean;\n      const res: SuspenseListState = [] as any;\n      for (let i = 0, len = reg.length; i < len; i++) {\n        const n = reverse ? len - i - 1 : i,\n          s = reg[n]();\n        if (!stop && !s) {\n          res[n] = { showContent, showFallback };\n        } else {\n          const next = !stop;\n          if (next) inFallback = true;\n          res[n] = {\n            showContent: next,\n            showFallback: !tail || (next && tail === \"collapsed\") ? showFallback : false\n          };\n          stop = true;\n        }\n      }\n      if (!stop) inFallback = false;\n      res.inFallback = inFallback;\n      return res;\n    },\n    { inFallback: false } as unknown as SuspenseListState\n  );\n  setWrapper(() => resolved);\n\n  return createComponent(SuspenseListContext.Provider, {\n    value: {\n      register: (inFallback: Accessor<boolean>) => {\n        let index: number;\n        setRegistry(registry => {\n          index = registry.length;\n          return [...registry, inFallback];\n        });\n        return createMemo(() => resolved()[index], undefined, {\n          equals: suspenseListEquals\n        });\n      }\n    },\n    get children() {\n      return props.children;\n    }\n  });\n}\n\n/**\n * tracks all resources inside a component and renders a fallback until they are all resolved\n * ```typescript\n * const AsyncComponent = lazy(() => import('./component'));\n *\n * <Suspense fallback={<LoadingIndicator />}>\n *   <AsyncComponent />\n * </Suspense>\n * ```\n * @description https://www.solidjs.com/docs/latest/api#suspense\n */\nexport function Suspense(props: { fallback?: JSX.Element; children: JSX.Element }) {\n  let counter = 0,\n    show: Accessor<SuspenseListRegisteredState>,\n    ctx: HydrationContext | undefined,\n    p: Promise<any> | any,\n    flicker: Accessor<void> | undefined,\n    error: any;\n  const [inFallback, setFallback] = createSignal<boolean>(false),\n    SuspenseContext = getSuspenseContext(),\n    store = {\n      increment: () => {\n        if (++counter === 1) setFallback(true);\n      },\n      decrement: () => {\n        if (--counter === 0) setFallback(false);\n      },\n      inFallback,\n      effects: [],\n      resolved: false\n    },\n    owner = getOwner();\n  if (sharedConfig.context && sharedConfig.load) {\n    const key = sharedConfig.context.id + sharedConfig.context.count;\n    let ref = sharedConfig.load(key);\n    if (ref && (typeof ref !== \"object\" || ref.status !== \"success\")) p = ref;\n    if (p && p !== \"$$f\") {\n      const [s, set] = createSignal(undefined, { equals: false });\n      flicker = s;\n      p.then(() => {\n        sharedConfig.gather!(key);\n        setHydrateContext(ctx);\n        set();\n        setHydrateContext();\n      }).catch((err: any) => {\n        if (err || sharedConfig.done) {\n          err && (error = err);\n          return set();\n        }\n      });\n    }\n  }\n\n  // SuspenseList support\n  const listContext = useContext(SuspenseListContext);\n  if (listContext) show = listContext.register(store.inFallback);\n  let dispose: undefined | (() => void);\n  onCleanup(() => dispose && dispose());\n\n  return createComponent(SuspenseContext.Provider, {\n    value: store,\n    get children() {\n      return createMemo(() => {\n        if (error) throw error;\n        ctx = sharedConfig.context!;\n        if (flicker) {\n          flicker();\n          return (flicker = undefined);\n        }\n        if (ctx && p === \"$$f\") setHydrateContext();\n        const rendered = createMemo(() => props.children);\n        return createMemo((prev: JSX.Element) => {\n          const inFallback = store.inFallback(),\n            { showContent = true, showFallback = true } = show ? show() : {};\n          if ((!inFallback || (p && p !== \"$$f\")) && showContent) {\n            store.resolved = true;\n            dispose && dispose();\n            dispose = ctx = p = undefined;\n            resumeEffects(store.effects);\n            return rendered();\n          }\n          if (!showFallback) return;\n          if (dispose) return prev;\n          return createRoot(disposer => {\n            dispose = disposer;\n            if (ctx) {\n              setHydrateContext({ id: ctx.id + \"f\", count: 0 });\n              ctx = undefined;\n            }\n            return props.fallback;\n          }, owner!);\n        });\n      }) as unknown as JSX.Element;\n    }\n  });\n}\n","export {\n  $DEVCOMP,\n  $PROXY,\n  $TRACK,\n  batch,\n  catchError,\n  children,\n  createComputed,\n  createContext,\n  createDeferred,\n  createEffect,\n  createMemo,\n  createReaction,\n  createRenderEffect,\n  createResource,\n  createRoot,\n  createSelector,\n  createSignal,\n  enableExternalSource,\n  enableScheduling,\n  equalFn,\n  getListener,\n  getOwner,\n  on,\n  onCleanup,\n  onError,\n  onMount,\n  runWithOwner,\n  startTransition,\n  untrack,\n  useContext,\n  useTransition\n} from \"./reactive/signal.js\";\nexport type {\n  Accessor,\n  AccessorArray,\n  ChildrenReturn,\n  Context,\n  ContextProviderComponent,\n  EffectFunction,\n  EffectOptions,\n  InitializedResource,\n  InitializedResourceOptions,\n  InitializedResourceReturn,\n  MemoOptions,\n  NoInfer,\n  OnEffectFunction,\n  OnOptions,\n  Owner,\n  ResolvedChildren,\n  ResolvedJSXElement,\n  Resource,\n  ResourceActions,\n  ResourceFetcher,\n  ResourceFetcherInfo,\n  ResourceOptions,\n  ResourceReturn,\n  ResourceSource,\n  ReturnTypes,\n  Setter,\n  Signal,\n  SignalOptions\n} from \"./reactive/signal.js\";\n\nexport * from \"./reactive/observable.js\";\nexport * from \"./reactive/scheduler.js\";\nexport * from \"./reactive/array.js\";\nexport * from \"./render/index.js\";\n\nimport type { JSX } from \"./jsx.js\";\ntype JSXElement = JSX.Element;\nexport type { JSXElement, JSX };\n\n// dev\nimport { registerGraph, writeSignal, DevHooks } from \"./reactive/signal.js\";\nexport const DEV = \"_SOLID_DEV_\"\n  ? ({ hooks: DevHooks, writeSignal, registerGraph } as const)\n  : undefined;\n\n// handle multiple instance check\ndeclare global {\n  var Solid$$: boolean;\n}\n\nif (\"_SOLID_DEV_\" && globalThis) {\n  if (!globalThis.Solid$$) globalThis.Solid$$ = true;\n  else\n    console.warn(\n      \"You appear to have multiple instances of Solid. This can lead to unexpected behavior.\"\n    );\n}\n"],"names":["taskIdCounter","isCallbackScheduled","isPerformingWork","taskQueue","currentTask","shouldYieldToHost","yieldInterval","deadline","maxYieldInterval","scheduleCallback","scheduledCallback","maxSigned31BitInt","setupScheduler","channel","MessageChannel","port","port2","postMessage","port1","onmessage","currentTime","performance","now","hasTimeRemaining","hasMoreWork","error","navigator","scheduling","isInputPending","enqueue","task","findIndex","m","n","length","k","cmp","expirationTime","splice","requestCallback","fn","options","startTime","timeout","newTask","id","flushWork","cancelCallback","initialTime","workLoop","callback","didUserCallbackTimeout","shift","sharedConfig","context","undefined","registry","setHydrateContext","nextHydrateContext","count","equalFn","a","b","$PROXY","Symbol","$TRACK","$DEVCOMP","signalOptions","equals","ERROR","runEffects","runQueue","STALE","PENDING","UNOWNED","owned","cleanups","owner","NO_INIT","Owner","Transition","Scheduler","ExternalSourceFactory","Listener","Updates","Effects","ExecCount","transPending","setTransPending","createSignal","createRoot","detachedOwner","listener","unowned","current","root","updateFn","untrack","cleanNode","runUpdates","value","Object","assign","s","observers","observerSlots","comparator","setter","running","sources","has","tValue","writeSignal","readSignal","bind","createComputed","c","createComputation","push","updateComputation","createRenderEffect","createEffect","runUserEffects","SuspenseContext","useContext","suspense","render","user","createReaction","onInvalidate","tracking","createMemo","tState","isPromise","v","createResource","pSource","pFetcher","pOptions","source","fetcher","arguments","pr","initP","loadedUnderTransition","scheduled","resolved","dynamic","contexts","Set","setValue","storage","initialValue","setError","track","trigger","state","setState","ssrLoadFrom","load","loadEnd","p","key","onHydrated","queueMicrotask","promises","delete","completeLoad","err","keys","decrement","clear","read","add","increment","refetching","lookup","status","then","e","castError","defineProperties","get","loading","latest","refetch","mutate","createDeferred","t","timeoutMs","node","setDeferred","deferred","createSelector","subs","Map","val","entries","values","pure","l","set","onCleanup","size","batch","on","deps","isArray","Array","prevInput","defer","prevValue","input","i","result","onMount","catchError","handler","handleError","getListener","getOwner","runWithOwner","o","prev","prevListener","enableScheduling","scheduler","startTransition","done","Promise","resolve","effects","disposed","queue","res","useTransition","resumeEffects","apply","createContext","defaultValue","Provider","createProvider","children","memo","resolveChildren","toArray","getSuspenseContext","enableExternalSource","factory","oldFactory","oldSource","x","dispose","runningTransition","updates","lookUpstream","sSlot","sourceSlots","isComp","TransitionRunning","markDownstream","Error","time","runComputation","nextValue","tOwned","forEach","updatedAt","init","ordinary","triggerInTransition","inTransition","runTop","inFallback","ancestors","top","wait","completeUpdates","scheduleQueue","d","len","item","tasks","userLength","slice","ignore","pop","index","obs","reset","cause","runErrors","fns","f","results","provider","props","onError","mutateContext","observable","subscribe","observer","TypeError","next","unsubscribe","disposer","from","producer","unsub","clean","FALLBACK","mapArray","list","mapFn","items","mapped","disposers","indexes","newItems","j","newLen","newIndices","newIndicesNext","temp","tempdisposers","tempIndexes","start","end","newEnd","fallback","mapper","Math","min","indexArray","signals","hydrationEnabled","enableHydration","createComponent","Comp","r","trueFn","propTraps","_","property","receiver","deleteProperty","getOwnPropertyDescriptor","configurable","enumerable","ownKeys","resolveSource","resolveSources","mergeProps","proxy","Proxy","target","sourcesMap","defined","sourceKeys","getOwnPropertyNames","desc","defineProperty","splitProps","blocked","flat","map","includes","filter","otherObject","objects","propName","isDefaultDesc","writable","objectIndex","lazy","comp","wrap","ctx","mod","default","preload","counter","createUniqueId","narrowedError","name","For","each","Index","Show","keyed","condition","when","child","Switch","conditions","evalConditions","conds","cond","Match","Errors","resetErrorBoundaries","ErrorBoundary","errored","setErrored","suspenseListEquals","showContent","showFallback","SuspenseListContext","SuspenseList","wrapper","setWrapper","show","listContext","setRegistry","register","reveal","revealOrder","tail","reg","reverse","all","every","stop","Suspense","flicker","setFallback","store","ref","gather","catch","rendered","DEV"],"mappings":"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"}