{"version":3,"file":"advancedFormat.js","sources":["../src/constant.js","../src/plugin/advancedFormat/index.js"],"sourcesContent":["export const SECONDS_A_MINUTE = 60\nexport const SECONDS_A_HOUR = SECONDS_A_MINUTE * 60\nexport const SECONDS_A_DAY = SECONDS_A_HOUR * 24\nexport const SECONDS_A_WEEK = SECONDS_A_DAY * 7\n\nexport const MILLISECONDS_A_SECOND = 1e3\nexport const MILLISECONDS_A_MINUTE = SECONDS_A_MINUTE * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_HOUR = SECONDS_A_HOUR * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_DAY = SECONDS_A_DAY * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_WEEK = SECONDS_A_WEEK * MILLISECONDS_A_SECOND\n\n// English locales\nexport const MS = 'millisecond'\nexport const S = 'second'\nexport const MIN = 'minute'\nexport const H = 'hour'\nexport const D = 'day'\nexport const W = 'week'\nexport const M = 'month'\nexport const Q = 'quarter'\nexport const Y = 'year'\nexport const DATE = 'date'\n\nexport const FORMAT_DEFAULT = 'YYYY-MM-DDTHH:mm:ssZ'\n\nexport const INVALID_DATE_STRING = 'Invalid Date'\n\n// regex\nexport const REGEX_PARSE = /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/\nexport const REGEX_FORMAT = /\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g\n","import { FORMAT_DEFAULT } from '../../constant'\n\nexport default (o, c) => { // locale needed later\n  const proto = c.prototype\n  const oldFormat = proto.format\n  proto.format = function (formatStr) {\n    const locale = this.$locale()\n\n    if (!this.isValid()) {\n      return oldFormat.bind(this)(formatStr)\n    }\n\n    const utils = this.$utils()\n    const str = formatStr || FORMAT_DEFAULT\n    const result = str.replace(/\\[([^\\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g, (match) => {\n      switch (match) {\n        case 'Q':\n          return Math.ceil((this.$M + 1) / 3)\n        case 'Do':\n          return locale.ordinal(this.$D)\n        case 'gggg':\n          return this.weekYear()\n        case 'GGGG':\n          return this.isoWeekYear()\n        case 'wo':\n          return locale.ordinal(this.week(), 'W') // W for week\n        case 'w':\n        case 'ww':\n          return utils.s(this.week(), match === 'w' ? 1 : 2, '0')\n        case 'W':\n        case 'WW':\n          return utils.s(this.isoWeek(), match === 'W' ? 1 : 2, '0')\n        case 'k':\n        case 'kk':\n          return utils.s(String(this.$H === 0 ? 24 : this.$H), match === 'k' ? 1 : 2, '0')\n        case 'X':\n          return Math.floor(this.$d.getTime() / 1000)\n        case 'x':\n          return this.$d.getTime()\n        case 'z':\n          return `[${this.offsetName()}]`\n        case 'zzz':\n          return `[${this.offsetName('long')}]`\n        default:\n          return match\n      }\n    })\n    return oldFormat.bind(this)(result)\n  }\n}\n\n"],"names":[],"mappings":"oQAuBO,MAAM,cAAc,GAAG,uBCrB9B,YAAe,CAAC,CAAC,EAAE,CAAC,KAAK;AACzB,EAAE,MAAM,KAAK,GAAG,CAAC,CAAC,UAAS;AAC3B,EAAE,MAAM,SAAS,GAAG,KAAK,CAAC,OAAM;AAChC,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,SAAS,EAAE;AACtC,IAAI,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,GAAE;AACjC;AACA,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE;AACzB,MAAM,OAAO,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC;AAC5C,KAAK;AACL;AACA,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,GAAE;AAC/B,IAAI,MAAM,GAAG,GAAG,SAAS,IAAI,eAAc;AAC3C,IAAI,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,6DAA6D,EAAE,CAAC,KAAK,KAAK;AACzG,MAAM,QAAQ,KAAK;AACnB,QAAQ,KAAK,GAAG;AAChB,UAAU,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;AAC7C,QAAQ,KAAK,IAAI;AACjB,UAAU,OAAO,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;AACxC,QAAQ,KAAK,MAAM;AACnB,UAAU,OAAO,IAAI,CAAC,QAAQ,EAAE;AAChC,QAAQ,KAAK,MAAM;AACnB,UAAU,OAAO,IAAI,CAAC,WAAW,EAAE;AACnC,QAAQ,KAAK,IAAI;AACjB,UAAU,OAAO,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,GAAG,CAAC;AACjD,QAAQ,KAAK,GAAG,CAAC;AACjB,QAAQ,KAAK,IAAI;AACjB,UAAU,OAAO,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,KAAK,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC;AACjE,QAAQ,KAAK,GAAG,CAAC;AACjB,QAAQ,KAAK,IAAI;AACjB,UAAU,OAAO,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC;AACpE,QAAQ,KAAK,GAAG,CAAC;AACjB,QAAQ,KAAK,IAAI;AACjB,UAAU,OAAO,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC;AAC1F,QAAQ,KAAK,GAAG;AAChB,UAAU,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;AACrD,QAAQ,KAAK,GAAG;AAChB,UAAU,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE;AAClC,QAAQ,KAAK,GAAG;AAChB,UAAU,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;AACzC,QAAQ,KAAK,KAAK;AAClB,UAAU,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAC/C,QAAQ;AACR,UAAU,OAAO,KAAK;AACtB,OAAO;AACP,KAAK,EAAC;AACN,IAAI,OAAO,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC;AACvC,IAAG;AACH"}