{"version":3,"file":"weekOfYear.js","sources":["../src/constant.js","../src/plugin/weekOfYear/index.js"],"sourcesContent":["export const SECONDS_A_MINUTE = 60\nexport const SECONDS_A_HOUR = SECONDS_A_MINUTE * 60\nexport const SECONDS_A_DAY = SECONDS_A_HOUR * 24\nexport const SECONDS_A_WEEK = SECONDS_A_DAY * 7\n\nexport const MILLISECONDS_A_SECOND = 1e3\nexport const MILLISECONDS_A_MINUTE = SECONDS_A_MINUTE * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_HOUR = SECONDS_A_HOUR * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_DAY = SECONDS_A_DAY * MILLISECONDS_A_SECOND\nexport const MILLISECONDS_A_WEEK = SECONDS_A_WEEK * MILLISECONDS_A_SECOND\n\n// English locales\nexport const MS = 'millisecond'\nexport const S = 'second'\nexport const MIN = 'minute'\nexport const H = 'hour'\nexport const D = 'day'\nexport const W = 'week'\nexport const M = 'month'\nexport const Q = 'quarter'\nexport const Y = 'year'\nexport const DATE = 'date'\n\nexport const FORMAT_DEFAULT = 'YYYY-MM-DDTHH:mm:ssZ'\n\nexport const INVALID_DATE_STRING = 'Invalid Date'\n\n// regex\nexport const REGEX_PARSE = /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/\nexport const REGEX_FORMAT = /\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g\n","import { MS, Y, D, W } from '../../constant'\n\nexport default (o, c, d) => {\n  const proto = c.prototype\n  proto.week = function (week = null) {\n    if (week !== null) {\n      return this.add((week - this.week()) * 7, D)\n    }\n    const yearStart = this.$locale().yearStart || 1\n    if (this.month() === 11 && this.date() > 25) {\n      // d(this) is for badMutable\n      const nextYearStartDay = d(this).startOf(Y).add(1, Y).date(yearStart)\n      const thisEndOfWeek = d(this).endOf(W)\n      if (nextYearStartDay.isBefore(thisEndOfWeek)) {\n        return 1\n      }\n    }\n    const yearStartDay = d(this).startOf(Y).date(yearStart)\n    const yearStartWeek = yearStartDay.startOf(W).subtract(1, MS)\n    const diffInWeek = this.diff(yearStartWeek, W, true)\n    if (diffInWeek < 0) {\n      return d(this).startOf('week').week()\n    }\n    return Math.ceil(diffInWeek)\n  }\n\n  proto.weeks = function (week = null) {\n    return this.week(week)\n  }\n}\n"],"names":[],"mappings":"gQAWA;AACO,MAAM,EAAE,GAAG,cAAa;AAIxB,MAAM,CAAC,GAAG,MAAK;AACf,MAAM,CAAC,GAAG,OAAM;AAGhB,MAAM,CAAC,GAAG,OClBjB,YAAe,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK;AAC5B,EAAE,MAAM,KAAK,GAAG,CAAC,CAAC,UAAS;AAC3B,EAAE,KAAK,CAAC,IAAI,GAAG,UAAU,IAAI,GAAG,IAAI,EAAE;AACtC,IAAI,IAAI,IAAI,KAAK,IAAI,EAAE;AACvB,MAAM,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;AAClD,KAAK;AACL,IAAI,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC,SAAS,IAAI,EAAC;AACnD,IAAI,IAAI,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE;AACjD;AACA,MAAM,MAAM,gBAAgB,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,EAAC;AAC3E,MAAM,MAAM,aAAa,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,EAAC;AAC5C,MAAM,IAAI,gBAAgB,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;AACpD,QAAQ,OAAO,CAAC;AAChB,OAAO;AACP,KAAK;AACL,IAAI,MAAM,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,EAAC;AAC3D,IAAI,MAAM,aAAa,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,EAAE,EAAC;AACjE,IAAI,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,IAAI,EAAC;AACxD,IAAI,IAAI,UAAU,GAAG,CAAC,EAAE;AACxB,MAAM,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;AAC3C,KAAK;AACL,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;AAChC,IAAG;AACH;AACA,EAAE,KAAK,CAAC,KAAK,GAAG,UAAU,IAAI,GAAG,IAAI,EAAE;AACvC,IAAI,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AAC1B,IAAG;AACH"}