(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react-router'), require('react'), require('history')) :
  typeof define === 'function' && define.amd ? define(['exports', 'react-router', 'react', 'history'], factory) :
  (global = global || self, factory(global.ReactRouterDOM = {}, global.ReactRouter, global.React, global.History));
}(this, (function (exports, reactRouter, React, history) { 'use strict';

  React = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;

  function _setPrototypeOf(o, p) {
    _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };
    return _setPrototypeOf(o, p);
  }

  function _inheritsLoose(subClass, superClass) {
    subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass;
    _setPrototypeOf(subClass, superClass);
  }

  /**
   * The public API for a <Router> that uses HTML5 history.
   */
  var BrowserRouter = /*#__PURE__*/function (_React$Component) {
    _inheritsLoose(BrowserRouter, _React$Component);
    function BrowserRouter() {
      var _this;
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;
      _this.history = history.createBrowserHistory(_this.props);
      return _this;
    }
    var _proto = BrowserRouter.prototype;
    _proto.render = function render() {
      return /*#__PURE__*/React.createElement(reactRouter.Router, {
        history: this.history,
        children: this.props.children
      });
    };
    return BrowserRouter;
  }(React.Component);

  /**
   * The public API for a <Router> that uses window.location.hash.
   */
  var HashRouter = /*#__PURE__*/function (_React$Component) {
    _inheritsLoose(HashRouter, _React$Component);
    function HashRouter() {
      var _this;
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;
      _this.history = history.createHashHistory(_this.props);
      return _this;
    }
    var _proto = HashRouter.prototype;
    _proto.render = function render() {
      return /*#__PURE__*/React.createElement(reactRouter.Router, {
        history: this.history,
        children: this.props.children
      });
    };
    return HashRouter;
  }(React.Component);

  function _extends() {
    _extends = Object.assign ? Object.assign.bind() : function (target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    return _extends.apply(this, arguments);
  }

  function _objectWithoutPropertiesLoose(source, excluded) {
    if (source == null) return {};
    var target = {};
    var sourceKeys = Object.keys(source);
    var key, i;
    for (i = 0; i < sourceKeys.length; i++) {
      key = sourceKeys[i];
      if (excluded.indexOf(key) >= 0) continue;
      target[key] = source[key];
    }
    return target;
  }

  var prefix = 'Invariant failed';
  function invariant(condition, message) {
      if (condition) {
          return;
      }
      {
          throw new Error(prefix);
      }
  }

  var resolveToLocation = function resolveToLocation(to, currentLocation) {
    return typeof to === "function" ? to(currentLocation) : to;
  };
  var normalizeToLocation = function normalizeToLocation(to, currentLocation) {
    return typeof to === "string" ? history.createLocation(to, null, null, currentLocation) : to;
  };

  var _excluded = ["innerRef", "navigate", "onClick"],
    _excluded2 = ["component", "replace", "to", "innerRef"];

  // React 15 compat
  var forwardRefShim = function forwardRefShim(C) {
    return C;
  };
  var forwardRef = React.forwardRef;
  if (typeof forwardRef === "undefined") {
    forwardRef = forwardRefShim;
  }
  function isModifiedEvent(event) {
    return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);
  }
  var LinkAnchor = forwardRef(function (_ref, forwardedRef) {
    var innerRef = _ref.innerRef,
      navigate = _ref.navigate,
      _onClick = _ref.onClick,
      rest = _objectWithoutPropertiesLoose(_ref, _excluded);
    var target = rest.target;
    var props = _extends({}, rest, {
      onClick: function onClick(event) {
        try {
          if (_onClick) _onClick(event);
        } catch (ex) {
          event.preventDefault();
          throw ex;
        }
        if (!event.defaultPrevented &&
        // onClick prevented default
        event.button === 0 && (
        // ignore everything but left clicks
        !target || target === "_self") &&
        // let browser handle "target=_blank" etc.
        !isModifiedEvent(event) // ignore clicks with modifier keys
        ) {
          event.preventDefault();
          navigate();
        }
      }
    });

    // React 15 compat
    if (forwardRefShim !== forwardRef) {
      props.ref = forwardedRef || innerRef;
    } else {
      props.ref = innerRef;
    }

    /* eslint-disable-next-line jsx-a11y/anchor-has-content */
    return /*#__PURE__*/React.createElement("a", props);
  });

  /**
   * The public API for rendering a history-aware <a>.
   */
  var Link = forwardRef(function (_ref2, forwardedRef) {
    var _ref2$component = _ref2.component,
      component = _ref2$component === void 0 ? LinkAnchor : _ref2$component,
      replace = _ref2.replace,
      to = _ref2.to,
      innerRef = _ref2.innerRef,
      rest = _objectWithoutPropertiesLoose(_ref2, _excluded2);
    return /*#__PURE__*/React.createElement(reactRouter.__RouterContext.Consumer, null, function (context) {
      !context ?  invariant(false) : void 0;
      var history$1 = context.history;
      var location = normalizeToLocation(resolveToLocation(to, context.location), context.location);
      var href = location ? history$1.createHref(location) : "";
      var props = _extends({}, rest, {
        href: href,
        navigate: function navigate() {
          var location = resolveToLocation(to, context.location);
          var isDuplicateNavigation = history.createPath(context.location) === history.createPath(normalizeToLocation(location));
          var method = replace || isDuplicateNavigation ? history$1.replace : history$1.push;
          method(location);
        }
      });

      // React 15 compat
      if (forwardRefShim !== forwardRef) {
        props.ref = forwardedRef || innerRef;
      } else {
        props.innerRef = innerRef;
      }
      return /*#__PURE__*/React.createElement(component, props);
    });
  });

  var _excluded$1 = ["aria-current", "activeClassName", "activeStyle", "className", "exact", "isActive", "location", "sensitive", "strict", "style", "to", "innerRef"];

  // React 15 compat
  var forwardRefShim$1 = function forwardRefShim(C) {
    return C;
  };
  var forwardRef$1 = React.forwardRef;
  if (typeof forwardRef$1 === "undefined") {
    forwardRef$1 = forwardRefShim$1;
  }
  function joinClassnames() {
    for (var _len = arguments.length, classnames = new Array(_len), _key = 0; _key < _len; _key++) {
      classnames[_key] = arguments[_key];
    }
    return classnames.filter(function (i) {
      return i;
    }).join(" ");
  }

  /**
   * A <Link> wrapper that knows if it's "active" or not.
   */
  var NavLink = forwardRef$1(function (_ref, forwardedRef) {
    var _ref$ariaCurrent = _ref["aria-current"],
      ariaCurrent = _ref$ariaCurrent === void 0 ? "page" : _ref$ariaCurrent,
      _ref$activeClassName = _ref.activeClassName,
      activeClassName = _ref$activeClassName === void 0 ? "active" : _ref$activeClassName,
      activeStyle = _ref.activeStyle,
      classNameProp = _ref.className,
      exact = _ref.exact,
      isActiveProp = _ref.isActive,
      locationProp = _ref.location,
      sensitive = _ref.sensitive,
      strict = _ref.strict,
      styleProp = _ref.style,
      to = _ref.to,
      innerRef = _ref.innerRef,
      rest = _objectWithoutPropertiesLoose(_ref, _excluded$1);
    return /*#__PURE__*/React.createElement(reactRouter.__RouterContext.Consumer, null, function (context) {
      !context ?  invariant(false) : void 0;
      var currentLocation = locationProp || context.location;
      var toLocation = normalizeToLocation(resolveToLocation(to, currentLocation), currentLocation);
      var path = toLocation.pathname;
      // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202
      var escapedPath = path && path.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1");
      var match = escapedPath ? reactRouter.matchPath(currentLocation.pathname, {
        path: escapedPath,
        exact: exact,
        sensitive: sensitive,
        strict: strict
      }) : null;
      var isActive = !!(isActiveProp ? isActiveProp(match, currentLocation) : match);
      var className = typeof classNameProp === "function" ? classNameProp(isActive) : classNameProp;
      var style = typeof styleProp === "function" ? styleProp(isActive) : styleProp;
      if (isActive) {
        className = joinClassnames(className, activeClassName);
        style = _extends({}, style, activeStyle);
      }
      var props = _extends({
        "aria-current": isActive && ariaCurrent || null,
        className: className,
        style: style,
        to: toLocation
      }, rest);

      // React 15 compat
      if (forwardRefShim$1 !== forwardRef$1) {
        props.ref = forwardedRef || innerRef;
      } else {
        props.innerRef = innerRef;
      }
      return /*#__PURE__*/React.createElement(Link, props);
    });
  });

  Object.defineProperty(exports, 'MemoryRouter', {
    enumerable: true,
    get: function () {
      return reactRouter.MemoryRouter;
    }
  });
  Object.defineProperty(exports, 'Prompt', {
    enumerable: true,
    get: function () {
      return reactRouter.Prompt;
    }
  });
  Object.defineProperty(exports, 'Redirect', {
    enumerable: true,
    get: function () {
      return reactRouter.Redirect;
    }
  });
  Object.defineProperty(exports, 'Route', {
    enumerable: true,
    get: function () {
      return reactRouter.Route;
    }
  });
  Object.defineProperty(exports, 'Router', {
    enumerable: true,
    get: function () {
      return reactRouter.Router;
    }
  });
  Object.defineProperty(exports, 'StaticRouter', {
    enumerable: true,
    get: function () {
      return reactRouter.StaticRouter;
    }
  });
  Object.defineProperty(exports, 'Switch', {
    enumerable: true,
    get: function () {
      return reactRouter.Switch;
    }
  });
  Object.defineProperty(exports, 'generatePath', {
    enumerable: true,
    get: function () {
      return reactRouter.generatePath;
    }
  });
  Object.defineProperty(exports, 'matchPath', {
    enumerable: true,
    get: function () {
      return reactRouter.matchPath;
    }
  });
  Object.defineProperty(exports, 'useHistory', {
    enumerable: true,
    get: function () {
      return reactRouter.useHistory;
    }
  });
  Object.defineProperty(exports, 'useLocation', {
    enumerable: true,
    get: function () {
      return reactRouter.useLocation;
    }
  });
  Object.defineProperty(exports, 'useParams', {
    enumerable: true,
    get: function () {
      return reactRouter.useParams;
    }
  });
  Object.defineProperty(exports, 'useRouteMatch', {
    enumerable: true,
    get: function () {
      return reactRouter.useRouteMatch;
    }
  });
  Object.defineProperty(exports, 'withRouter', {
    enumerable: true,
    get: function () {
      return reactRouter.withRouter;
    }
  });
  exports.BrowserRouter = BrowserRouter;
  exports.HashRouter = HashRouter;
  exports.Link = Link;
  exports.NavLink = NavLink;

  Object.defineProperty(exports, '__esModule', { value: true });

})));
//# sourceMappingURL=react-router-dom.min.js.map
