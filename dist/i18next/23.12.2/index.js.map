{"version":3,"file":"index.js","mappings":"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","sources":["webpack://i18next/webpack/universalModuleDefinition","webpack://i18next/webpack/bootstrap","webpack://i18next/webpack/runtime/define property getters","webpack://i18next/webpack/runtime/hasOwnProperty shorthand","webpack://i18next/webpack/runtime/make namespace object","webpack://i18next/./src/logger.js","webpack://i18next/./src/EventEmitter.js","webpack://i18next/./src/utils.js","webpack://i18next/./src/ResourceStore.js","webpack://i18next/./src/postProcessor.js","webpack://i18next/./src/Translator.js","webpack://i18next/./src/LanguageUtils.js","webpack://i18next/./src/PluralResolver.js","webpack://i18next/./src/Interpolator.js","webpack://i18next/./src/Formatter.js","webpack://i18next/./src/BackendConnector.js","webpack://i18next/./src/defaults.js","webpack://i18next/./src/i18next.js","webpack://i18next/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"i18next\"] = factory();\n\telse\n\t\troot[\"i18next\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const consoleLogger = {\n  type: 'logger',\n\n  log(args) {\n    this.output('log', args);\n  },\n\n  warn(args) {\n    this.output('warn', args);\n  },\n\n  error(args) {\n    this.output('error', args);\n  },\n\n  output(type, args) {\n    /* eslint no-console: 0 */\n    if (console && console[type]) console[type].apply(console, args);\n  },\n};\n\nclass Logger {\n  constructor(concreteLogger, options = {}) {\n    this.init(concreteLogger, options);\n  }\n\n  init(concreteLogger, options = {}) {\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n\n  log(...args) {\n    return this.forward(args, 'log', '', true);\n  }\n\n  warn(...args) {\n    return this.forward(args, 'warn', '', true);\n  }\n\n  error(...args) {\n    return this.forward(args, 'error', '');\n  }\n\n  deprecate(...args) {\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{ prefix: `${this.prefix}:${moduleName}:` },\n      ...this.options,\n    });\n  }\n\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\n\nexport default new Logger();\n","class EventEmitter {\n  constructor() {\n    // This is an Object containing Maps:\n    //\n    // { [event: string]: Map<listener: function, numTimesAdded: number> }\n    //\n    // We use a Map for O(1) insertion/deletion and because it can have functions as keys.\n    //\n    // We keep track of numTimesAdded (the number of times it was added) because if you attach the same listener twice,\n    // we should actually call it twice for each emitted event.\n    this.observers = {};\n  }\n\n  on(events, listener) {\n    events.split(' ').forEach((event) => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n\n    this.observers[event].delete(listener);\n  }\n\n  emit(event, ...args) {\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nexport default EventEmitter;\n","// http://lea.verou.me/2016/12/resolve-promises-externally-with-this-one-weird-trick/\nexport function defer() {\n  let res;\n  let rej;\n\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n\n  promise.resolve = res;\n  promise.reject = rej;\n\n  return promise;\n}\n\nexport function makeString(object) {\n  if (object == null) return '';\n  /* eslint prefer-template: 0 */\n  return '' + object;\n}\n\nexport function copy(a, s, t) {\n  a.forEach((m) => {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\n// We extract out the RegExp definition to improve performance with React Native Android, which has poor RegExp\n// initialization performance\nconst lastOfPathSeparatorRegExp = /###/g;\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  const stack = typeof path !== 'string' ? path : path.split('.');\n  let stackIndex = 0;\n  // iterate through the stack, but leave the last item\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper()) return {};\n\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    // prevent prototype pollution\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex]),\n  };\n}\n\nexport function setPath(object, path, newValue) {\n  const { obj, k } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n}\n\nexport function pushPath(object, path, newValue, concat) {\n  const { obj, k } = getLastOfPath(object, path, Object);\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nexport function getPath(object, path) {\n  const { obj, k } = getLastOfPath(object, path);\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nexport function getPathWithDefaults(data, defaultData, key) {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  // Fallback to default values\n  return getPath(defaultData, key);\n}\n\nexport function deepExtend(target, source, overwrite) {\n  /* eslint no-restricted-syntax: 0 */\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch\n        if (\n          typeof target[prop] === 'string' ||\n          target[prop] instanceof String ||\n          typeof source[prop] === 'string' ||\n          source[prop] instanceof String\n        ) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\n\nexport function regexEscape(str) {\n  /* eslint no-useless-escape: 0 */\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\n/* eslint-disable */\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;',\n};\n/* eslint-enable */\n\nexport function escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, (s) => _entityMap[s]);\n  }\n\n  return data;\n}\n\n/**\n * This is a reusable regular expression cache class. Given a certain maximum number of regular expressions we're\n * allowed to store in the cache, it provides a way to avoid recreating regular expression objects over and over.\n * When it needs to evict something, it evicts the oldest one.\n */\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    // Since our capacity tends to be fairly small, `.shift()` will be fairly quick despite being O(n). We just use a\n    // normal array to keep it simple.\n    this.regExpQueue = [];\n  }\n\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\n\nconst chars = [' ', ',', '?', '!', ';'];\n// We cache RegExps to improve performance with React Native Android, which has poor RegExp initialization performance.\n// Capacity of 20 should be plenty, as nsSeparator/keySeparator don't tend to vary much across calls.\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\n\nexport function looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(\n    (c) => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0,\n  );\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(\n    `(${possibleChars.map((c) => (c === '?' ? '\\\\?' : c)).join('|')})`,\n  );\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n}\n\n/**\n * Given\n *\n * 1. a top level object obj, and\n * 2. a path to a deeply nested string or object within it\n *\n * Find and return that deeply nested string or object. The caveat is that the keys of objects within the nesting chain\n * may contain period characters. Therefore, we need to DFS and explore all possible keys at each step until we find the\n * deeply nested string or object.\n */\nexport function deepFind(obj, path, keySeparator = '.') {\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length; ) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n}\n\nexport function getCleanedCode(code) {\n  if (code && code.indexOf('_') > 0) return code.replace('_', '-');\n  return code;\n}\n","import EventEmitter from './EventEmitter.js';\nimport { getPath, deepFind, setPath, deepExtend } from './utils.js';\n\nclass ResourceStore extends EventEmitter {\n  constructor(data, options = { ns: ['translation'], defaultNS: 'translation' }) {\n    super();\n\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n\n  getResource(lng, ns, key, options = {}) {\n    const keySeparator =\n      options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n    const ignoreJSONStructure =\n      options.ignoreJSONStructure !== undefined\n        ? options.ignoreJSONStructure\n        : this.options.ignoreJSONStructure;\n\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (typeof key === 'string' && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n\n  addResource(lng, ns, key, value, options = { silent: false }) {\n    const keySeparator =\n      options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    setPath(this.data, path, value);\n\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n\n  addResources(lng, ns, resources, options = { silent: false }) {\n    /* eslint no-restricted-syntax: 0 */\n    for (const m in resources) {\n      if (typeof resources[m] === 'string' || Array.isArray(resources[m]))\n        this.addResource(lng, ns, m, resources[m], { silent: true });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n\n  addResourceBundle(\n    lng,\n    ns,\n    resources,\n    deep,\n    overwrite,\n    options = { silent: false, skipCopy: false },\n  ) {\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    let pack = getPath(this.data, path) || {};\n\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources)); // make a copy to fix #2081\n\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = { ...pack, ...resources };\n    }\n\n    setPath(this.data, path, pack);\n\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n\n    this.emit('removed', lng, ns);\n  }\n\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n\n    // COMPATIBILITY: remove extend in v2.1.0\n    if (this.options.compatibilityAPI === 'v1') return { ...{}, ...this.getResource(lng, ns) };\n\n    return this.getResource(lng, ns);\n  }\n\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = (data && Object.keys(data)) || [];\n    return !!n.find((v) => data[v] && Object.keys(data[v]).length > 0);\n  }\n\n  toJSON() {\n    return this.data;\n  }\n}\n\nexport default ResourceStore;\n","export default {\n  processors: {},\n\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n\n  handle(processors, value, key, options, translator) {\n    processors.forEach((processor) => {\n      if (this.processors[processor])\n        value = this.processors[processor].process(value, key, options, translator);\n    });\n\n    return value;\n  },\n};\n","import baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\nimport postProcessor from './postProcessor.js';\nimport { copy as utilsCopy, looksLikeObjectPath } from './utils.js';\n\nconst checkedLoadedFor = {};\n\nclass Translator extends EventEmitter {\n  constructor(services, options = {}) {\n    super();\n\n    utilsCopy(\n      [\n        'resourceStore',\n        'languageUtils',\n        'pluralResolver',\n        'interpolator',\n        'backendConnector',\n        'i18nFormat',\n        'utils',\n      ],\n      services,\n      this,\n    );\n\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n\n    this.logger = baseLogger.create('translator');\n  }\n\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n\n  exists(key, options = { interpolation: {} }) {\n    if (key === undefined || key === null) {\n      return false;\n    }\n\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n\n  extractFromKey(key, options) {\n    let nsSeparator =\n      options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n\n    const keySeparator =\n      options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage =\n      !this.options.userDefinedKeySeparator &&\n      !options.keySeparator &&\n      !this.options.userDefinedNsSeparator &&\n      !options.nsSeparator &&\n      !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces,\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (\n        nsSeparator !== keySeparator ||\n        (nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1)\n      )\n        namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    return {\n      key,\n      namespaces,\n    };\n  }\n\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      /* eslint prefer-rest-params: 0 */\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = { ...options };\n    if (!options) options = {};\n\n    // non valid keys handling\n    if (keys === undefined || keys === null /* || keys === '' */) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n\n    const returnDetails =\n      options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n\n    // separators\n    const keySeparator =\n      options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n    // get namespace(s)\n    const { key, namespaces } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n\n    // return key on CIMode\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode =\n      options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options),\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options),\n        };\n      }\n      return key;\n    }\n\n    // resolve from store\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = (resolved && resolved.usedKey) || key;\n    const resExactUsedKey = (resolved && resolved.exactUsedKey) || key;\n\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays =\n      options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n\n    // object\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject =\n      typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n    if (\n      handleAsObjectInI18nFormat &&\n      res &&\n      handleAsObject &&\n      noObject.indexOf(resType) < 0 &&\n      !(typeof joinArrays === 'string' && Array.isArray(res))\n    ) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler\n          ? this.options.returnedObjectHandler(resUsedKey, res, { ...options, ns: namespaces })\n          : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n\n      // if we got a separator we loop over children - else we just return object as is\n      // as having it set to false means no hierarchy so no lookup for nested values\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(res);\n        const copy = resTypeIsArray ? [] : {}; // apply child translation on a copy\n\n        /* eslint no-restricted-syntax: 0 */\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{ joinArrays: false, ns: namespaces },\n            });\n            if (copy[m] === deepKey) copy[m] = res[m]; // if nothing found use original value as fallback\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && Array.isArray(res)) {\n      // array special treatment\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      // string, empty or null\n      let usedDefault = false;\n      let usedKey = false;\n\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling\n        ? this.pluralResolver.getSuffix(lng, options.count, options)\n        : '';\n      const defaultValueSuffixOrdinalFallback =\n        options.ordinal && needsPluralHandling\n          ? this.pluralResolver.getSuffix(lng, options.count, { ordinal: false })\n          : '';\n      const needsZeroSuffixLookup =\n        needsPluralHandling &&\n        !options.ordinal &&\n        options.count === 0 &&\n        this.pluralResolver.shouldUseIntlApi();\n      const defaultValue =\n        (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`]) ||\n        options[`defaultValue${defaultValueSuffix}`] ||\n        options[`defaultValue${defaultValueSuffixOrdinalFallback}`] ||\n        options.defaultValue;\n\n      // fallback value\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n\n      const missingKeyNoValueFallbackToKey =\n        options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n\n      // save missing\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(\n          updateMissing ? 'updateKey' : 'missingKey',\n          lng,\n          namespace,\n          key,\n          updateMissing ? defaultValue : res,\n        );\n        if (keySeparator) {\n          const fk = this.resolve(key, { ...options, keySeparator: false });\n          if (fk && fk.res)\n            this.logger.warn(\n              'Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.',\n            );\n        }\n\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(\n          this.options.fallbackLng,\n          options.lng || this.language,\n        );\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing =\n            hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(\n              l,\n              namespace,\n              k,\n              defaultForMissing,\n              updateMissing,\n              options,\n            );\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(\n              l,\n              namespace,\n              k,\n              defaultForMissing,\n              updateMissing,\n              options,\n            );\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach((language) => {\n              const suffixes = this.pluralResolver.getSuffixes(language, options);\n              if (\n                needsZeroSuffixLookup &&\n                options[`defaultValue${this.options.pluralSeparator}zero`] &&\n                suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0\n              ) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach((suffix) => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n\n      // extend\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n\n      // append namespace if still key\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey)\n        res = `${namespace}:${key}`;\n\n      // parseMissingKeyHandler\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(\n            this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key,\n            usedDefault ? res : undefined,\n          );\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n\n    // return\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n\n  extendTranslation(res, key, options, resolved, lastKey) {\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(\n        res,\n        { ...this.options.interpolation.defaultVariables, ...options },\n        options.lng || this.language || resolved.usedLng,\n        resolved.usedNS,\n        resolved.usedKey,\n        { resolved },\n      );\n    } else if (!options.skipInterpolation) {\n      // i18next.parsing\n      if (options.interpolation)\n        this.interpolator.init({\n          ...options,\n          ...{ interpolation: { ...this.options.interpolation, ...options.interpolation } },\n        });\n      const skipOnVariables =\n        typeof res === 'string' &&\n        (options && options.interpolation && options.interpolation.skipOnVariables !== undefined\n          ? options.interpolation.skipOnVariables\n          : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        // has nesting aftbeforeer interpolation\n        nestBef = nb && nb.length;\n      }\n\n      // interpolate\n      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n      if (this.options.interpolation.defaultVariables)\n        data = { ...this.options.interpolation.defaultVariables, ...data };\n      res = this.interpolator.interpolate(\n        res,\n        data,\n        options.lng || this.language || resolved.usedLng,\n        options,\n      );\n\n      // nesting\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        // has nesting after interpolation\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res)\n        options.lng = this.language || resolved.usedLng;\n      if (options.nest !== false)\n        res = this.interpolator.nest(\n          res,\n          (...args) => {\n            if (lastKey && lastKey[0] === args[0] && !options.context) {\n              this.logger.warn(\n                `It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`,\n              );\n              return null;\n            }\n            return this.translate(...args, key);\n          },\n          options,\n        );\n\n      if (options.interpolation) this.interpolator.reset();\n    }\n\n    // post process\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n    if (\n      res !== undefined &&\n      res !== null &&\n      postProcessorNames &&\n      postProcessorNames.length &&\n      options.applyPostProcessor !== false\n    ) {\n      res = postProcessor.handle(\n        postProcessorNames,\n        res,\n        key,\n        this.options && this.options.postProcessPassResolved\n          ? {\n              i18nResolved: { ...resolved, usedParams: this.getUsedParamsDetails(options) },\n              ...options,\n            }\n          : options,\n        this,\n      );\n    }\n\n    return res;\n  }\n\n  resolve(keys, options = {}) {\n    let found;\n    let usedKey; // plain key\n    let exactUsedKey; // key with context / plural\n    let usedLng;\n    let usedNS;\n\n    if (typeof keys === 'string') keys = [keys];\n\n    // forEach possible key\n    keys.forEach((k) => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const needsZeroSuffixLookup =\n        needsPluralHandling &&\n        !options.ordinal &&\n        options.count === 0 &&\n        this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling =\n        options.context !== undefined &&\n        (typeof options.context === 'string' || typeof options.context === 'number') &&\n        options.context !== '';\n\n      const codes = options.lngs\n        ? options.lngs\n        : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n\n      namespaces.forEach((ns) => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n\n        if (\n          !checkedLoadedFor[`${codes[0]}-${ns}`] &&\n          this.utils &&\n          this.utils.hasLoadedNamespace &&\n          !this.utils.hasLoadedNamespace(usedNS)\n        ) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(\n            `key \"${usedKey}\" for languages \"${codes.join(\n              ', ',\n            )}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`,\n            'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!',\n          );\n        }\n\n        codes.forEach((code) => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n\n          const finalKeys = [key];\n\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling)\n              pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            // get key for plural if needed\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(\n                  key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator),\n                );\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n\n            // get key for context if needed\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n\n              // get key for context + plural if needed\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(\n                    contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator),\n                  );\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n\n          // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only\n          let possibleKey;\n          /* eslint no-cond-assign: 0 */\n          while ((possibleKey = finalKeys.pop())) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n\n    return { res: found, usedKey, exactUsedKey, usedLng, usedNS };\n  }\n\n  isValidLookup(res) {\n    return (\n      res !== undefined &&\n      !(!this.options.returnNull && res === null) &&\n      !(!this.options.returnEmptyString && res === '')\n    );\n  }\n\n  getResource(code, ns, key, options = {}) {\n    if (this.i18nFormat && this.i18nFormat.getResource)\n      return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n\n  getUsedParamsDetails(options = {}) {\n    // we need to remember to extend this array whenever new option properties are added\n    const optionsKeys = [\n      'defaultValue',\n      'ordinal',\n      'context',\n      'replace',\n      'lng',\n      'lngs',\n      'fallbackLng',\n      'ns',\n      'keySeparator',\n      'nsSeparator',\n      'returnObjects',\n      'returnDetails',\n      'joinArrays',\n      'postProcess',\n      'interpolation',\n    ];\n\n    const useOptionsReplaceForData = options.replace && typeof options.replace !== 'string';\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n\n    if (this.options.interpolation.defaultVariables) {\n      data = { ...this.options.interpolation.defaultVariables, ...data };\n    }\n\n    // avoid reporting options (execpt count) as usedParams\n    if (!useOptionsReplaceForData) {\n      data = { ...data };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n\n    return data;\n  }\n\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n\n    for (const option in options) {\n      if (\n        Object.prototype.hasOwnProperty.call(options, option) &&\n        prefix === option.substring(0, prefix.length) &&\n        undefined !== options[option]\n      ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n}\n\nexport default Translator;\n","import baseLogger from './logger.js';\nimport { getCleanedCode } from './utils.js';\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n\n  formatLanguageCode(code) {\n    // http://www.iana.org/assignments/language-tags/language-tags.xhtml\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n\n      if (this.options.lowerCaseLng) {\n        p = p.map((part) => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n\n        // if length 2 guess it's a country\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n\n      return p.join('-');\n    }\n\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return (\n      !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1\n    );\n  }\n\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n\n    let found;\n\n    // pick first supported code or if no restriction pick the first one (highest prio)\n    codes.forEach((code) => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n\n    // if we got no match in supportedLngs yet - check for similar locales\n    // first  de-CH --> de\n    // second de-CH --> de-DE\n    if (!found && this.options.supportedLngs) {\n      codes.forEach((code) => {\n        if (found) return;\n\n        const lngOnly = this.getLanguagePartFromCode(code);\n        // eslint-disable-next-line no-return-assign\n        if (this.isSupportedCode(lngOnly)) return (found = lngOnly);\n\n        // eslint-disable-next-line array-callback-return\n        found = this.options.supportedLngs.find((supportedLng) => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (\n            supportedLng.indexOf('-') > 0 &&\n            lngOnly.indexOf('-') < 0 &&\n            supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly\n          )\n            return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    // if nothing found, use fallbackLng\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n\n    return found;\n  }\n\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n\n    if (!code) return fallbacks.default || [];\n\n    // assume we have an object defining fallbacks\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n\n    return found || [];\n  }\n\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(\n      fallbackCode || this.options.fallbackLng || [],\n      code,\n    );\n\n    const codes = [];\n    const addCode = (c) => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n\n    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly')\n        addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n\n    fallbackCodes.forEach((fc) => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n\n    return codes;\n  }\n}\n\nexport default LanguageUtil;\n","import baseLogger from './logger.js';\nimport { getCleanedCode } from './utils.js'\n\n// definition http://translate.sourceforge.net/wiki/l10n/pluralforms\n/* eslint-disable */\nlet sets = [\n  { lngs: ['ach','ak','am','arn','br','fil','gun','ln','mfe','mg','mi','oc', 'pt', 'pt-BR',\n    'tg', 'tl', 'ti','tr','uz','wa'], nr: [1,2], fc: 1 },\n\n  { lngs: ['af','an','ast','az','bg','bn','ca','da','de','dev','el','en',\n    'eo','es','et','eu','fi','fo','fur','fy','gl','gu','ha','hi',\n    'hu','hy','ia','it','kk','kn','ku','lb','mai','ml','mn','mr','nah','nap','nb',\n    'ne','nl','nn','no','nso','pa','pap','pms','ps','pt-PT','rm','sco',\n    'se','si','so','son','sq','sv','sw','ta','te','tk','ur','yo'], nr: [1,2], fc: 2 },\n\n  { lngs: ['ay','bo','cgg','fa','ht','id','ja','jbo','ka','km','ko','ky','lo',\n    'ms','sah','su','th','tt','ug','vi','wo','zh'], nr: [1], fc: 3 },\n\n  { lngs: ['be','bs', 'cnr', 'dz','hr','ru','sr','uk'], nr: [1,2,5], fc: 4 },\n\n  { lngs: ['ar'], nr: [0,1,2,3,11,100], fc: 5 },\n  { lngs: ['cs','sk'], nr: [1,2,5], fc: 6 },\n  { lngs: ['csb','pl'], nr: [1,2,5], fc: 7 },\n  { lngs: ['cy'], nr: [1,2,3,8], fc: 8 },\n  { lngs: ['fr'], nr: [1,2], fc: 9 },\n  { lngs: ['ga'], nr: [1,2,3,7,11], fc: 10 },\n  { lngs: ['gd'], nr: [1,2,3,20], fc: 11 },\n  { lngs: ['is'], nr: [1,2], fc: 12 },\n  { lngs: ['jv'], nr: [0,1], fc: 13 },\n  { lngs: ['kw'], nr: [1,2,3,4], fc: 14 },\n  { lngs: ['lt'], nr: [1,2,10], fc: 15 },\n  { lngs: ['lv'], nr: [1,2,0], fc: 16 },\n  { lngs: ['mk'], nr: [1,2], fc: 17 },\n  { lngs: ['mnk'], nr: [0,1,2], fc: 18 },\n  { lngs: ['mt'], nr: [1,2,11,20], fc: 19 },\n  { lngs: ['or'], nr: [2,1], fc: 2 },\n  { lngs: ['ro'], nr: [1,2,20], fc: 20 },\n  { lngs: ['sl'], nr: [5,1,2,3], fc: 21 },\n  { lngs: ['he','iw'], nr: [1,2,20,21], fc: 22 }\n]\n\nlet _rulesPluralsTypes = {\n  1: function(n) {return Number(n > 1);},\n  2: function(n) {return Number(n != 1);},\n  3: function(n) {return 0;},\n  4: function(n) {return Number(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);},\n  5: function(n) {return Number(n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n%100>=3 && n%100<=10 ? 3 : n%100>=11 ? 4 : 5);},\n  6: function(n) {return Number((n==1) ? 0 : (n>=2 && n<=4) ? 1 : 2);},\n  7: function(n) {return Number(n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);},\n  8: function(n) {return Number((n==1) ? 0 : (n==2) ? 1 : (n != 8 && n != 11) ? 2 : 3);},\n  9: function(n) {return Number(n >= 2);},\n  10: function(n) {return Number(n==1 ? 0 : n==2 ? 1 : n<7 ? 2 : n<11 ? 3 : 4) ;},\n  11: function(n) {return Number((n==1 || n==11) ? 0 : (n==2 || n==12) ? 1 : (n > 2 && n < 20) ? 2 : 3);},\n  12: function(n) {return Number(n%10!=1 || n%100==11);},\n  13: function(n) {return Number(n !== 0);},\n  14: function(n) {return Number((n==1) ? 0 : (n==2) ? 1 : (n == 3) ? 2 : 3);},\n  15: function(n) {return Number(n%10==1 && n%100!=11 ? 0 : n%10>=2 && (n%100<10 || n%100>=20) ? 1 : 2);},\n  16: function(n) {return Number(n%10==1 && n%100!=11 ? 0 : n !== 0 ? 1 : 2);},\n  17: function(n) {return Number(n==1 || n%10==1 && n%100!=11 ? 0 : 1);},\n  18: function(n) {return Number(n==0 ? 0 : n==1 ? 1 : 2);},\n  19: function(n) {return Number(n==1 ? 0 : n==0 || ( n%100>1 && n%100<11) ? 1 : (n%100>10 && n%100<20 ) ? 2 : 3);},\n  20: function(n) {return Number(n==1 ? 0 : (n==0 || (n%100 > 0 && n%100 < 20)) ? 1 : 2);},\n  21: function(n) {return Number(n%100==1 ? 1 : n%100==2 ? 2 : n%100==3 || n%100==4 ? 3 : 0); },\n  22: function(n) {return Number(n==1 ? 0 : n==2 ? 1 : (n<0 || n>10) && n%10==0 ? 2 : 3); }\n};\n/* eslint-enable */\n\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5,\n};\n\nfunction createRules() {\n  const rules = {};\n  sets.forEach((set) => {\n    set.lngs.forEach((l) => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nclass PluralResolver {\n  constructor(languageUtils, options = {}) {\n    this.languageUtils = languageUtils;\n    this.options = options;\n\n    this.logger = baseLogger.create('pluralResolver');\n\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n\n    this.rules = createRules();\n  }\n\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n\n  getRule(code, options = {}) {\n    if (this.shouldUseIntlApi()) {\n      try {\n        return new Intl.PluralRules(getCleanedCode(code === 'dev' ? 'en' : code), { type: options.ordinal ? 'ordinal' : 'cardinal' });\n      } catch (err) {\n        return;\n      }\n    }\n\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n\n  needsPlural(code, options = {}) {\n    const rule = this.getRule(code, options);\n\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n\n    return rule && rule.numbers.length > 1;\n  }\n\n  getPluralFormsOfKey(code, key, options = {}) {\n    return this.getSuffixes(code, options).map((suffix) => `${key}${suffix}`);\n  }\n\n  getSuffixes(code, options = {}) {\n    const rule = this.getRule(code, options);\n\n    if (!rule) {\n      return [];\n    }\n\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories\n        .sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2])\n        .map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n\n    return rule.numbers.map((number) => this.getSuffix(code, number, options));\n  }\n\n  getSuffix(code, count, options = {}) {\n    const rule = this.getRule(code, options);\n\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n\n    // special treatment for lngs only having singular and plural\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n\n    const returnSuffix = () => (\n      this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString()\n    );\n\n    // COMPATIBILITY JSON\n    // v1\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n      // eslint-disable-next-line no-else-return\n    } else if (/* v2 */ this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (/* v3 - gettext index */ this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nexport default PluralResolver;\n","import {\n  getPathWithDefaults,\n  deepFind,\n  escape as utilsEscape,\n  regexEscape,\n  makeString,\n} from './utils.js';\nimport baseLogger from './logger.js';\n\nfunction deepFindWithDefaults(\n  data,\n  defaultData,\n  key,\n  keySeparator = '.',\n  ignoreJSONStructure = true,\n) {\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n}\n\nclass Interpolator {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('interpolator');\n\n    this.options = options;\n    this.format = (options.interpolation && options.interpolation.format) || ((value) => value);\n    this.init(options);\n  }\n\n  /* eslint no-param-reassign: 0 */\n  init(options = {}) {\n    if (!options.interpolation) options.interpolation = { escapeValue: true };\n\n    const {\n      escape,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat,\n    } = options.interpolation;\n\n    this.escape = escape !== undefined ? escape : utilsEscape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n\n    this.formatSeparator = formatSeparator || ',';\n\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n\n    this.nestingPrefix = nestingPrefix\n      ? regexEscape(nestingPrefix)\n      : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix\n      ? regexEscape(nestingSuffix)\n      : nestingSuffixEscaped || regexEscape(')');\n\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n\n    this.maxReplaces = maxReplaces || 1000;\n\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n\n    // the regexp\n    this.resetRegExp();\n  }\n\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp && existingRegExp.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(\n      this.regexpUnescape,\n      `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`,\n    );\n    this.nestingRegexp = getOrResetRegExp(\n      this.nestingRegexp,\n      `${this.nestingPrefix}(.+?)${this.nestingSuffix}`,\n    );\n  }\n\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n\n    const defaultData =\n      (this.options && this.options.interpolation && this.options.interpolation.defaultVariables) ||\n      {};\n\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n\n    const handleFormat = (key) => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(\n          data,\n          defaultData,\n          key,\n          this.options.keySeparator,\n          this.options.ignoreJSONStructure,\n        );\n        return this.alwaysFormat\n          ? this.format(path, undefined, lng, { ...options, ...data, interpolationkey: key })\n          : path;\n      }\n\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n\n      return this.format(\n        deepFindWithDefaults(\n          data,\n          defaultData,\n          k,\n          this.options.keySeparator,\n          this.options.ignoreJSONStructure,\n        ),\n        f,\n        lng,\n        {\n          ...options,\n          ...data,\n          interpolationkey: k,\n        },\n      );\n    };\n\n    this.resetRegExp();\n\n    const missingInterpolationHandler =\n      (options && options.missingInterpolationHandler) || this.options.missingInterpolationHandler;\n\n    const skipOnVariables =\n      options && options.interpolation && options.interpolation.skipOnVariables !== undefined\n        ? options.interpolation.skipOnVariables\n        : this.options.interpolation.skipOnVariables;\n\n    const todos = [\n      {\n        // unescape if has unescapePrefix/Suffix\n        regex: this.regexpUnescape,\n        safeValue: (val) => regexSafe(val),\n      },\n      {\n        // regular escape on demand\n        regex: this.regexp,\n        safeValue: (val) => (this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)),\n      },\n    ];\n    todos.forEach((todo) => {\n      replaces = 0;\n      /* eslint no-cond-assign: 0 */\n      while ((match = todo.regex.exec(str))) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = ''; // undefined becomes empty string\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue; // this makes sure it continues to detect others\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n\n  nest(str, fc, options = {}) {\n    let match;\n    let value;\n\n    let clonedOptions;\n\n    // if value is something like \"myKey\": \"lorem $(anotherKey, { \"count\": {{aValueInOptions}} })\"\n    function handleHasOptions(key, inheritedOptions) {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (\n        (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes) ||\n        matchedDoubleQuotes.length % 2 !== 0\n      ) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n\n      try {\n        clonedOptions = JSON.parse(optionsString);\n\n        if (inheritedOptions) clonedOptions = { ...inheritedOptions, ...clonedOptions };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n\n      // assert we do not get a endless loop on interpolating defaultValue again and again\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1)\n        delete clonedOptions.defaultValue;\n      return key;\n    }\n\n    // regular escape on demand\n    while ((match = this.nestingRegexp.exec(str))) {\n      let formatters = [];\n\n      clonedOptions = { ...options };\n      clonedOptions =\n        clonedOptions.replace && typeof clonedOptions.replace !== 'string'\n          ? clonedOptions.replace\n          : clonedOptions;\n      clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup\n      delete clonedOptions.defaultValue; // assert we do not get a endless loop on interpolating defaultValue again and again\n\n      /**\n       * If there is more than one parameter (contains the format separator). E.g.:\n       *   - t(a, b)\n       *   - t(a, b, c)\n       *\n       * And those parameters are not dynamic values (parameters do not include curly braces). E.g.:\n       *   - Not t(a, { \"key\": \"{{variable}}\" })\n       *   - Not t(a, b, {\"keyA\": \"valueA\", \"keyB\": \"valueB\"})\n       */\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map((elem) => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n\n      // is only the nesting key (key1 = '$(key2)') return the value without stringify\n      if (value && match[0] === str && typeof value !== 'string') return value;\n\n      // no string to include or empty\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n\n      if (doReduce) {\n        value = formatters.reduce(\n          // eslint-disable-next-line no-loop-func\n          (v, f) =>\n            this.format(v, f, options.lng, { ...options, interpolationkey: match[1].trim() }),\n          value.trim(),\n        );\n      }\n\n      // Nested keys should not be escaped by default #854\n      // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nexport default Interpolator;\n","import baseLogger from './logger.js';\nimport { getCleanedCode } from './utils.js';\n\nfunction parseFormatStr(formatStr) {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n\n    const optStr = p[1].substring(0, p[1].length - 1);\n\n    // extra for currency\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n\n      opts.forEach((opt) => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest\n            .join(':')\n            .trim()\n            .replace(/^'+|'+$/g, ''); // trim and replace ''\n\n          const trimmedKey = key.trim();\n\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          // eslint-disable-next-line no-restricted-globals\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n\n  return {\n    formatName,\n    formatOptions,\n  };\n}\n\nfunction createCachedFormatter(fn) {\n  const cache = {};\n  return function invokeFormatter(val, lng, options) {\n    const key = lng + JSON.stringify(options);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n}\n\nclass Formatter {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('formatter');\n\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, { ...opt });\n        return (val) => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, { ...opt, style: 'currency' });\n        return (val) => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, { ...opt });\n        return (val) => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, { ...opt });\n        return (val) => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, { ...opt });\n        return (val) => formatter.format(val);\n      }),\n    };\n    this.init(options);\n  }\n\n  /* eslint no-param-reassign: 0 */\n  init(services, options = { interpolation: {} }) {\n    const iOpts = options.interpolation;\n\n    this.formatSeparator = iOpts.formatSeparator\n      ? iOpts.formatSeparator\n      : iOpts.formatSeparator || ',';\n  }\n\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n\n  format(value, format, lng, options = {}) {\n    const formats = format.split(this.formatSeparator);\n\n    const result = formats.reduce((mem, f) => {\n      const { formatName, formatOptions } = parseFormatStr(f);\n\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          // options passed explicit for that formatted value\n          const valOptions =\n            (options && options.formatParams && options.formatParams[options.interpolationkey]) ||\n            {};\n\n          // language\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions,\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n        // eslint-disable-next-line no-else-return\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n\n    return result;\n  }\n}\n\nexport default Formatter;\n","import { pushPath } from './utils.js';\nimport baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\n\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\n\nclass Connector extends EventEmitter {\n  constructor(backend, store, services, options = {}) {\n    super();\n\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n\n    this.state = {};\n    this.queue = [];\n\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n\n  queueLoad(languages, namespaces, options, callback) {\n    // find what needs to be loaded\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n\n    languages.forEach((lng) => {\n      let hasAllNamespaces = true;\n\n      namespaces.forEach((ns) => {\n        const name = `${lng}|${ns}`;\n\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2; // loaded\n        } else if (this.state[name] < 0) {\n          // nothing to do for err\n        } else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1; // pending\n\n          hasAllNamespaces = false;\n\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback,\n      });\n    }\n\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces),\n    };\n  }\n\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n\n    if (err) this.emit('failedLoading', lng, ns, err);\n\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, { skipCopy: true });\n    }\n\n    // set loaded\n    this.state[name] = err ? -1 : 2;\n\n    // consolidated loading done in this run - only emit once for a loaded namespace\n    const loaded = {};\n\n    // callback if ready\n    this.queue.forEach((q) => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n\n      if (err) q.errors.push(err);\n\n      if (q.pendingCount === 0 && !q.done) {\n        // only do once per loaded -> this.emit('loaded', q.loaded);\n        Object.keys(q.loaded).forEach((l) => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach((n) => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n\n        /* eslint no-param-reassign: 0 */\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n\n    // emit consolidated loaded event\n    this.emit('loaded', loaded);\n\n    // remove done load requests\n    this.queue = this.queue.filter((q) => !q.done);\n  }\n\n  read(lng, ns, fcName, tried = 0, wait = this.retryTimeout, callback) {\n    if (!lng.length) return callback(null, {}); // noting to load\n\n    // Limit parallelism of calls to backend\n    // This is needed to prevent trying to open thousands of\n    // sockets or file descriptors, which can cause failures\n    // and actually make the entire process take longer.\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({ lng, ns, fcName, tried, wait, callback });\n      return;\n    }\n    this.readingCalls++;\n\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data /* = retryFlag */ && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      // no callback\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          // promise\n          r.then((data) => resolver(null, data)).catch(resolver);\n        } else {\n          // sync\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n\n    // normal with callback\n    return fc(lng, ns, resolver);\n  }\n\n  /* eslint consistent-return: 0 */\n  prepareLoading(languages, namespaces, options = {}, callback) {\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n      return null; // pendings will trigger callback\n    }\n\n    toLoad.toLoad.forEach((name) => {\n      this.loadOne(name);\n    });\n  }\n\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, { reload: true }, callback);\n  }\n\n  loadOne(name, prefix = '') {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data)\n        this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n\n      this.loaded(name, err, data);\n    });\n  }\n\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate, options = {}, clb = () => {}) {\n    if (\n      this.services.utils &&\n      this.services.utils.hasLoadedNamespace &&\n      !this.services.utils.hasLoadedNamespace(namespace)\n    ) {\n      this.logger.warn(\n        `did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`,\n        'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!',\n      );\n      return;\n    }\n\n    // ignore non valid keys\n    if (key === undefined || key === null || key === '') return;\n\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate,\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        // no callback\n        try {\n          let r;\n          if (fc.length === 5) {\n            // future callback-less api for i18next-locize-backend\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            // promise\n            r.then((data) => clb(null, data)).catch(clb);\n          } else {\n            // sync\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        // normal with callback\n        fc(languages, namespace, key, fallbackValue, clb /* unused callback */, opts);\n      }\n    }\n\n    // write to store to avoid resending\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nexport default Connector;\n","export function get() {\n  return {\n    debug: false,\n    initImmediate: true,\n\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false, // string or array of namespaces\n\n    supportedLngs: false, // array with supported languages\n    nonExplicitSupportedLngs: false,\n    load: 'all', // | currentOnly | languageOnly\n    preload: false, // array with preload languages\n\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n\n    partialBundledLanguages: false, // allow bundling certain languages that are not remotely fetched\n    saveMissing: false, // enable to send missing values\n    updateMissing: false, // enable to update default values if different from translated value (only useful on initial development, or when keeping code as source of truth)\n    saveMissingTo: 'fallback', // 'current' || 'all'\n    saveMissingPlurals: true, // will save all forms not only singular key\n    missingKeyHandler: false, // function(lng, ns, key, fallbackValue) -> override if prefer on handling\n    missingInterpolationHandler: false, // function(str, match)\n\n    postProcess: false, // string or array of postProcessor names\n    postProcessPassResolved: false, // pass resolved object into 'options.i18nResolved' for postprocessor\n    returnNull: false, // allows null value as valid translation\n    returnEmptyString: true, // allows empty string value as valid translation\n    returnObjects: false,\n    joinArrays: false, // or string to join array\n    returnedObjectHandler: false, // function(key, value, options) triggered if key returns object but returnObjects is set to false\n    parseMissingKeyHandler: false, // function(key) parsed a key that was not found in t() before returning\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      let ret = {};\n      if (typeof args[1] === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n      if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n        const options = args[3] || args[2];\n        Object.keys(options).forEach((key) => {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      /** @type {import('i18next').FormatFunction} */\n      format: (value) => value,\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      // prefixEscaped: '{{',\n      // suffixEscaped: '}}',\n      // unescapeSuffix: '',\n      unescapePrefix: '-',\n\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      // nestingPrefixEscaped: '$t(',\n      // nestingSuffixEscaped: ')',\n      // defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data\n      maxReplaces: 1000, // max replaces to prevent endless loop\n      skipOnVariables: true,\n    },\n  };\n}\n\n/* eslint no-param-reassign: 0 */\nexport function transformOptions(options) {\n  // create namespace object if namespace is passed in as string\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  // extend supportedLngs with cimode\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n","import baseLogger from './logger.js';\nimport EventEmitter from './EventEmitter.js';\nimport ResourceStore from './ResourceStore.js';\nimport Translator from './Translator.js';\nimport LanguageUtils from './LanguageUtils.js';\nimport PluralResolver from './PluralResolver.js';\nimport Interpolator from './Interpolator.js';\nimport Formatter from './Formatter.js';\nimport BackendConnector from './BackendConnector.js';\nimport { get as getDefaults, transformOptions } from './defaults.js';\nimport postProcessor from './postProcessor.js';\nimport { defer } from './utils.js';\n\nfunction noop() { }\n\n// Binds the member functions of the given class instance so that they can be\n// destructured or used as callbacks.\nfunction bindMemberFunctions(inst) {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst))\n  mems.forEach((mem) => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst)\n    }\n  })\n}\n\nclass I18n extends EventEmitter {\n  constructor(options = {}, callback) {\n    super();\n\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = { external: [] };\n\n    bindMemberFunctions(this);\n\n    if (callback && !this.isInitialized && !options.isClone) {\n      // https://github.com/i18next/i18next/issues/879\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n\n  init(options = {}, callback) {\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (typeof options.ns === 'string') {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n\n    const defOpts = getDefaults();\n    this.options = { ...defOpts, ...this.options, ...transformOptions(options) };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = { ...defOpts.interpolation, ...this.options.interpolation }; // do not use reference\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n\n    // init services\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n\n      const lu = new LanguageUtils(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix,\n      });\n\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      }\n\n      s.backendConnector = new BackendConnector(\n        createClassOnDemand(this.modules.backend),\n        s.resourceStore,\n        s,\n        this.options,\n      );\n      // pipe events from backendConnector\n      s.backendConnector.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n\n      this.translator = new Translator(this.services, this.options);\n      // pipe events from translator\n      this.translator.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng)\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0]\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n\n    // append api\n    const storeApi = [\n      'getResource',\n      'hasResourceBundle',\n      'getResourceBundle',\n      'getDataByLanguage',\n    ];\n    storeApi.forEach(fcName => {\n      this[fcName] = (...args) => this.store[fcName](...args);\n    });\n    const storeApiChained = [\n      'addResource',\n      'addResources',\n      'addResourceBundle',\n      'removeResourceBundle',\n    ];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = (...args) => {\n        this.store[fcName](...args);\n        return this;\n      };\n    });\n\n    const deferred = defer();\n\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n\n        deferred.resolve(t); // not rejecting on err (as err is only a loading translation failed warning)\n        callback(err, t);\n      };\n      // fix for use cases when calling changeLanguage before finished to initialized (i.e. https://github.com/i18next/i18next/issues/1552)\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n\n    return deferred;\n  }\n\n  /* eslint consistent-return: 0 */\n  loadResources(language, callback = noop) {\n    let usedCallback = callback;\n    const usedLng = typeof language === 'string' ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback(); // avoid loading resources for cimode\n\n      const toLoad = [];\n\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n\n      if (!usedLng) {\n        // at least load fallbacks in this case\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n\n      this.services.backendConnector.load(toLoad, this.options.ns, (e) => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve(); // not rejecting on err (as err is only a loading translation failed warning)\n      callback(err);\n    });\n    return deferred;\n  }\n\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()')\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()')\n\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n\n    if (module.type === 'logger' || (module.log && module.warn && module.error)) {\n      this.modules.logger = module;\n    }\n\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n\n    return this;\n  }\n\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n\n  changeLanguage(lng, callback) {\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n\n    const setLngProps = (l) => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      // find the first language resolved language\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n\n      deferred.resolve((...args) => this.t(...args));\n      if (callback) callback(err, (...args) => this.t(...args));\n    };\n\n    const setLng = lngs => {\n      // if detected lng is falsy, set it to empty array, to make sure at least the fallbackLng will be used\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      // depending on API in detector lng can be a string (old) or an array of languages ordered in priority\n      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n\n    return deferred;\n  }\n\n  getFixedT(lng, ns, keyPrefix) {\n    const fixedT = (key, opts, ...rest) => {\n      let options;\n      if (typeof opts !== 'object') {\n        options = this.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = { ...opts };\n      }\n\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n\n      const keySeparator = this.options.keySeparator || '.';\n      let resultKey\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return this.t(resultKey, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n\n  t(...args) {\n    return this.translator && this.translator.translate(...args);\n  }\n\n  exists(...args) {\n    return this.translator && this.translator.exists(...args);\n  }\n\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n\n  hasLoadedNamespace(ns, options = {}) {\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n\n    // we're in cimode so this shall pass\n    if (lng.toLowerCase() === 'cimode') return true;\n\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 2;\n    };\n\n    // optional injected check\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n\n    // loaded -> SUCCESS\n    if (this.hasResourceBundle(lng, ns)) return true;\n\n    // were not loading at all -> SEMI SUCCESS\n    if (!this.services.backendConnector.backend || (this.options.resources && !this.options.partialBundledLanguages)) return true;\n\n    // failed loading ns - but at least fallback is not pending -> SEMI SUCCESS\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n\n    return false;\n  }\n\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (typeof ns === 'string') ns = [ns];\n\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n\n    return deferred;\n  }\n\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n\n    if (typeof lngs === 'string') lngs = [lngs];\n    const preloaded = this.options.preload || [];\n\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    // Exit early if all given languages are already preloaded\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n\n    return deferred;\n  }\n\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n\n    const rtlLngs = [\n      'ar',\n      'shu',\n      'sqr',\n      'ssh',\n      'xaa',\n      'yhd',\n      'yud',\n      'aao',\n      'abh',\n      'abv',\n      'acm',\n      'acq',\n      'acw',\n      'acx',\n      'acy',\n      'adf',\n      'ads',\n      'aeb',\n      'aec',\n      'afb',\n      'ajp',\n      'apc',\n      'apd',\n      'arb',\n      'arq',\n      'ars',\n      'ary',\n      'arz',\n      'auz',\n      'avl',\n      'ayh',\n      'ayl',\n      'ayn',\n      'ayp',\n      'bbz',\n      'pga',\n      'he',\n      'iw',\n      'ps',\n      'pbt',\n      'pbu',\n      'pst',\n      'prp',\n      'prd',\n      'ug',\n      'ur',\n      'ydd',\n      'yds',\n      'yih',\n      'ji',\n      'yi',\n      'hbo',\n      'men',\n      'xmn',\n      'fa',\n      'jpr',\n      'peo',\n      'pes',\n      'prs',\n      'dv',\n      'sam',\n      'ckb'\n    ];\n\n    const languageUtils = (this.services && this.services.languageUtils) || new LanguageUtils(getDefaults()) // for uninitialized usage\n\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1\n      ? 'rtl'\n      : 'ltr';\n  }\n\n  static createInstance(options = {}, callback) { return new I18n(options, callback) }\n\n  cloneInstance(options = {}, callback = noop) {\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = { ...this.options, ...options, ...{ isClone: true } };\n    const clone = new I18n(mergedOptions);\n    if ((options.debug !== undefined || options.prefix !== undefined)) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = { ...this.services };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', (event, ...args) => {\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions; // sync options\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n\n    return clone;\n  }\n\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\n\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nexport default instance;\n","import i18next from './i18next.js';\n\nexport default i18next;\n\nexport const createInstance = i18next.createInstance;\n\nexport const dir = i18next.dir;\nexport const init = i18next.init;\nexport const loadResources = i18next.loadResources;\nexport const reloadResources = i18next.reloadResources;\nexport const use = i18next.use;\nexport const changeLanguage = i18next.changeLanguage;\nexport const getFixedT = i18next.getFixedT;\nexport const t = i18next.t;\nexport const exists = i18next.exists;\nexport const setDefaultNamespace = i18next.setDefaultNamespace;\nexport const hasLoadedNamespace = i18next.hasLoadedNamespace;\nexport const loadNamespaces = i18next.loadNamespaces;\nexport const loadLanguages = i18next.loadLanguages;\n"],"names":["consoleLogger","type","log","args","output","warn","error","console","apply","Logger","constructor","concreteLogger","options","arguments","length","undefined","init","prefix","logger","debug","_len","Array","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","create","moduleName","clone","EventEmitter","observers","on","events","listener","split","forEach","event","Map","numListeners","get","set","off","delete","emit","cloned","from","entries","_ref","observer","numTimesAdded","i","_ref2","defer","res","rej","promise","Promise","resolve","reject","makeString","object","copy","a","s","t","m","lastOfPathSeparatorRegExp","getLastOfPath","path","Empty","cleanKey","key","indexOf","replace","canNotTraverseDeeper","stack","stackIndex","Object","prototype","hasOwnProperty","call","obj","k","setPath","newValue","e","p","slice","last","pushPath","concat","push","getPath","getPathWithDefaults","data","defaultData","value","deepExtend","target","source","overwrite","prop","String","regexEscape","str","_entityMap","escape","RegExpCache","capacity","regExpMap","regExpQueue","getRegExp","pattern","regExpFromCache","regExpNew","RegExp","shift","chars","looksLikeObjectPathRegExpCache","looksLikeObjectPath","nsSeparator","keySeparator","possibleChars","filter","c","r","map","join","matched","test","ki","substring","deepFind","tokens","current","next","nextPath","j","getCleanedCode","code","ResourceStore","ns","defaultNS","ignoreJSONStructure","addNamespaces","removeNamespaces","index","splice","getResource","lng","isArray","result","addResource","silent","addResources","resources","addResourceBundle","deep","skipCopy","pack","JSON","parse","stringify","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","n","keys","find","v","toJSON","processors","addPostProcessor","module","name","handle","translator","processor","process","baseLogger","postProcessor","utilsCopy","checkedLoadedFor","Translator","services","changeLanguage","language","exists","interpolation","resolved","extractFromKey","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","resType","toString","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","extendTranslation","usedDefault","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","shouldUseIntlApi","defaultValue","pluralSeparator","isValidLookup","missingKeyNoValueFallbackToKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","l","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nestAft","nest","context","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","capitalize","string","charAt","toUpperCase","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","Number","nonIntlVersions","intlVersions","suffixesOrder","zero","one","two","few","many","other","createRules","rules","numbers","plurals","PluralResolver","compatibilityJSON","includes","Intl","PluralRules","addRule","getRule","err","needsPlural","rule","resolvedOptions","pluralCategories","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","utilsEscape","deepFindWithDefaults","Interpolator","format","escapeValue","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","getOrResetRegExp","existingRegExp","lastIndex","regexp","regexpUnescape","replaces","regexSafe","val","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","todos","regex","safeValue","todo","exec","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","parseFormatStr","formatStr","formatName","formatOptions","optStr","currency","range","opts","opt","rest","trimmedKey","isNaN","parseInt","createCachedFormatter","fn","cache","invokeFormatter","formatter","Formatter","formats","NumberFormat","style","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","list","ListFormat","iOpts","add","addCached","mem","formatted","valOptions","formatParams","locale","removePending","q","pending","pendingCount","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","state","queue","queueLoad","languages","callback","toLoad","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","loaded","errors","done","loadedKeys","read","fcName","tried","wait","resolver","setTimeout","bind","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","initImmediate","preload","partialBundledLanguages","ret","tDescription","transformOptions","LanguageUtils","BackendConnector","getDefaults","noop","bindMemberFunctions","inst","mems","getOwnPropertyNames","getPrototypeOf","I18n","modules","external","isInitialized","isClone","isInitializing","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","storeApi","storeApiChained","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","Error","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","rtlLngs","createInstance","cloneInstance","forkResourceStore","mergedOptions","membersToCopy","instance","i18next"],"sourceRoot":""}